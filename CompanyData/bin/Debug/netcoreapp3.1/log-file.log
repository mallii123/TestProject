2020-11-10 18:26:08,682 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-10 18:26:08,697 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-10 18:26:08,699 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-10 18:26:08,700 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-10 18:26:23,599 [10] ERROR CompanyData.Data.CompanyActions - Log test
2020-11-10 18:26:42,305 [10] INFO  NHibernate.Cfg.Environment - NHibernate 5.3.3+7530a259e1b52ee8a9722e7bbd728ac913ef68f7 (assembly 5.3.0.0)
2020-11-10 18:26:42,386 [10] INFO  NHibernate.Cfg.Environment - Bytecode provider name : lcg
2020-11-10 18:26:42,388 [10] INFO  NHibernate.Cfg.Environment - Objects factory class : NHibernate.Bytecode.ActivatorObjectsFactory
2020-11-10 18:26:42,388 [10] INFO  NHibernate.Cfg.Environment - Using reflection optimizer
2020-11-10 18:26:42,406 [10] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-10 18:26:42,406 [10] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:26:42,406 [10] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-10 18:26:42,406 [10] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-10 18:26:42,406 [10] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-10 18:26:42,406 [10] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-10 18:26:42,406 [10] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-10 18:26:42,406 [10] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-10 18:26:42,408 [10] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-10 18:26:43,048 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-10 18:26:43,097 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 18:26:43,117 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-10 18:26:43,117 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-10 18:26:43,131 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-10 18:26:43,138 [10] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-10 18:26:43,146 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-10 18:26:43,146 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 18:26:43,146 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-10 18:26:43,146 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-10 18:26:43,147 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-10 18:26:43,153 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-10 18:26:43,163 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-10 18:26:43,164 [10] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-10 18:26:43,173 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:26:43,201 [10] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-10 18:26:43,201 [10] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-10 18:26:43,202 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-10 18:26:43,206 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-10 18:26:43,213 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-10 18:26:43,213 [10] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-10 18:26:43,213 [10] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-10 18:26:43,216 [10] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-10 18:26:43,223 [10] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-10 18:26:43,257 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:26:43,283 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:26:43,395 [10] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-10 18:26:43,396 [10] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-10 18:26:43,397 [10] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-10 18:26:43,397 [10] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-10 18:26:43,420 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:26:43,421 [10] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-10 18:26:43,422 [10] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-10 18:26:43,422 [10] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-10 18:26:43,422 [10] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-10 18:26:43,422 [10] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-10 18:26:43,422 [10] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-10 18:26:43,422 [10] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-10 18:26:43,422 [10] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-10 18:26:43,423 [10] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-10 18:26:43,426 [10] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-10 18:26:43,426 [10] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 18:26:43,427 [10] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-10 18:26:43,427 [10] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-10 18:26:43,427 [10] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-10 18:26:43,427 [10] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-10 18:26:43,427 [10] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 18:26:43,428 [10] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-10 18:26:43,428 [10] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-10 18:26:43,430 [10] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-10 18:26:43,449 [10] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-10 18:26:43,449 [10] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-10 18:26:43,450 [10] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-10 18:26:43,453 [10] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-10 18:27:09,609 [2] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2020-11-10 18:31:19,896 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-10 18:31:19,908 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-10 18:31:19,910 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-10 18:31:19,913 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-10 18:31:27,273 [10] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-10 18:31:27,308 [10] INFO  NHibernate.Cfg.Environment - NHibernate 5.3.3+7530a259e1b52ee8a9722e7bbd728ac913ef68f7 (assembly 5.3.0.0)
2020-11-10 18:31:27,388 [10] INFO  NHibernate.Cfg.Environment - Bytecode provider name : lcg
2020-11-10 18:31:27,390 [10] INFO  NHibernate.Cfg.Environment - Objects factory class : NHibernate.Bytecode.ActivatorObjectsFactory
2020-11-10 18:31:27,390 [10] INFO  NHibernate.Cfg.Environment - Using reflection optimizer
2020-11-10 18:31:27,409 [10] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-10 18:31:27,409 [10] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:31:27,409 [10] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-10 18:31:27,409 [10] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-10 18:31:27,409 [10] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-10 18:31:27,409 [10] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-10 18:31:27,409 [10] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-10 18:31:27,410 [10] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-10 18:31:27,411 [10] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-10 18:31:28,185 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-10 18:31:28,232 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 18:31:28,251 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-10 18:31:28,252 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-10 18:31:28,267 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-10 18:31:28,273 [10] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-10 18:31:28,281 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-10 18:31:28,281 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 18:31:28,281 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-10 18:31:28,281 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-10 18:31:28,282 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-10 18:31:28,287 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-10 18:31:28,297 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-10 18:31:28,297 [10] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-10 18:31:28,305 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:31:28,329 [10] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-10 18:31:28,329 [10] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-10 18:31:28,330 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-10 18:31:28,333 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-10 18:31:28,339 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-10 18:31:28,339 [10] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-10 18:31:28,339 [10] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-10 18:31:28,342 [10] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-10 18:31:28,348 [10] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-10 18:31:28,369 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:31:28,386 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:31:28,458 [10] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-10 18:31:28,459 [10] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-10 18:31:28,460 [10] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-10 18:31:28,461 [10] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-10 18:31:28,483 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:31:28,484 [10] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-10 18:31:28,485 [10] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-10 18:31:28,485 [10] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-10 18:31:28,485 [10] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-10 18:31:28,485 [10] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-10 18:31:28,485 [10] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-10 18:31:28,485 [10] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-10 18:31:28,485 [10] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-10 18:31:28,486 [10] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-10 18:31:28,489 [10] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-10 18:31:28,489 [10] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 18:31:28,489 [10] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-10 18:31:28,489 [10] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-10 18:31:28,489 [10] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-10 18:31:28,490 [10] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-10 18:31:28,491 [10] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 18:31:28,491 [10] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-10 18:31:28,491 [10] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-10 18:31:28,493 [10] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-10 18:31:28,511 [10] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-10 18:31:28,511 [10] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-10 18:31:28,512 [10] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-10 18:31:28,513 [10] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-10 18:32:05,650 [10] ERROR CompanyData.Data.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at NHibernate.Connection.DriverConnectionProvider.GetConnection(String connectionString)
   at NHibernate.Connection.ConnectionProvider.GetConnection()
   at NHibernate.Tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.Prepare()
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.GetReservedWords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.UpdateDialectKeywords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.Update(ISessionFactoryImplementor sessionFactory)
   at NHibernate.Impl.SessionFactoryImpl..ctor(Configuration cfg, IMapping mapping, Settings settings, EventListeners listeners)
   at NHibernate.Cfg.Configuration.BuildSessionFactory()
   at CompanyData.Helpers.NHibernateSession.InitializeSessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 23
   at CompanyData.Helpers.NHibernateSession.get_SessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 15
   at CompanyData.Helpers.NHibernateSession.OpenSession() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 27
   at CompanyData.Data.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Data\CompanyActions.cs:line 40
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2020-11-10 18:32:06,870 [2] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2020-11-10 18:34:41,004 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-10 18:34:41,017 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-10 18:34:41,019 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-10 18:34:41,021 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-10 18:34:48,446 [10] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-10 18:34:48,484 [10] INFO  NHibernate.Cfg.Environment - NHibernate 5.3.3+7530a259e1b52ee8a9722e7bbd728ac913ef68f7 (assembly 5.3.0.0)
2020-11-10 18:34:48,568 [10] INFO  NHibernate.Cfg.Environment - Bytecode provider name : lcg
2020-11-10 18:34:48,569 [10] INFO  NHibernate.Cfg.Environment - Objects factory class : NHibernate.Bytecode.ActivatorObjectsFactory
2020-11-10 18:34:48,570 [10] INFO  NHibernate.Cfg.Environment - Using reflection optimizer
2020-11-10 18:34:48,588 [10] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-10 18:34:48,588 [10] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:34:48,588 [10] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-10 18:34:48,588 [10] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-10 18:34:48,588 [10] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-10 18:34:48,588 [10] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-10 18:34:48,588 [10] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-10 18:34:48,588 [10] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-10 18:34:48,590 [10] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-10 18:34:49,283 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-10 18:34:49,329 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 18:34:49,349 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-10 18:34:49,349 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-10 18:34:49,364 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-10 18:34:49,371 [10] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-10 18:34:49,381 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-10 18:34:49,381 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 18:34:49,381 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-10 18:34:49,381 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-10 18:34:49,382 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-10 18:34:49,388 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-10 18:34:49,398 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-10 18:34:49,399 [10] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-10 18:34:49,408 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:34:49,432 [10] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-10 18:34:49,432 [10] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-10 18:34:49,433 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-10 18:34:49,437 [10] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-10 18:34:49,443 [10] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-10 18:34:49,443 [10] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-10 18:34:49,443 [10] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-10 18:34:49,446 [10] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-10 18:34:49,450 [10] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-10 18:34:49,473 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:34:49,494 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:34:49,571 [10] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-10 18:34:49,572 [10] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-10 18:34:49,573 [10] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-10 18:34:49,573 [10] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-10 18:34:49,594 [10] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:34:49,595 [10] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-10 18:34:49,596 [10] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-10 18:34:49,596 [10] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-10 18:34:49,596 [10] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-10 18:34:49,596 [10] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-10 18:34:49,596 [10] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-10 18:34:49,596 [10] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-10 18:34:49,596 [10] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-10 18:34:49,597 [10] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-10 18:34:49,599 [10] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-10 18:34:49,600 [10] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 18:34:49,600 [10] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-10 18:34:49,600 [10] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-10 18:34:49,600 [10] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-10 18:34:49,600 [10] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-10 18:34:49,601 [10] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 18:34:49,601 [10] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-10 18:34:49,601 [10] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-10 18:34:49,604 [10] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-10 18:34:49,622 [10] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-10 18:34:49,622 [10] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-10 18:34:49,623 [10] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-10 18:34:49,625 [10] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-10 18:35:26,761 [10] ERROR CompanyData.Data.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at NHibernate.Connection.DriverConnectionProvider.GetConnection(String connectionString)
   at NHibernate.Connection.ConnectionProvider.GetConnection()
   at NHibernate.Tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.Prepare()
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.GetReservedWords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.UpdateDialectKeywords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.Update(ISessionFactoryImplementor sessionFactory)
   at NHibernate.Impl.SessionFactoryImpl..ctor(Configuration cfg, IMapping mapping, Settings settings, EventListeners listeners)
   at NHibernate.Cfg.Configuration.BuildSessionFactory()
   at CompanyData.Helpers.NHibernateSession.InitializeSessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 23
   at CompanyData.Helpers.NHibernateSession.get_SessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 15
   at CompanyData.Helpers.NHibernateSession.OpenSession() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 27
   at CompanyData.Data.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Data\CompanyActions.cs:line 40
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2020-11-10 18:39:35,205 [11] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-10 18:39:42,730 [11] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-10 18:39:42,730 [11] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:39:42,730 [11] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-10 18:39:42,730 [11] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-10 18:39:42,730 [11] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-10 18:39:42,730 [11] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-10 18:39:42,730 [11] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-10 18:39:42,730 [11] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-10 18:39:42,731 [11] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-10 18:39:42,735 [11] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-10 18:39:42,736 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 18:39:42,736 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-10 18:39:42,736 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-10 18:39:42,737 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-10 18:39:42,737 [11] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-10 18:39:42,738 [11] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-10 18:39:42,738 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 18:39:42,738 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-10 18:39:42,738 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-10 18:39:42,738 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-10 18:39:42,739 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-10 18:39:42,739 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-10 18:39:42,739 [11] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-10 18:39:42,739 [11] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:39:42,740 [11] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-10 18:39:42,740 [11] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-10 18:39:42,740 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-10 18:39:42,740 [11] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-10 18:39:42,740 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-10 18:39:42,740 [11] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-10 18:39:42,740 [11] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-10 18:39:42,740 [11] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-10 18:39:42,740 [11] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-10 18:39:42,741 [11] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:39:42,741 [11] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-10 18:39:42,744 [11] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-10 18:39:42,745 [11] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-10 18:39:42,745 [11] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 18:39:42,745 [11] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-10 18:39:42,745 [11] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-10 18:39:42,745 [11] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-10 18:39:42,745 [11] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-10 18:39:42,745 [11] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 18:39:42,745 [11] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-10 18:39:42,745 [11] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-10 18:39:42,745 [11] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-10 18:39:42,745 [11] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-10 18:39:42,745 [11] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-10 18:39:42,745 [11] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-10 18:39:42,745 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-10 18:40:19,693 [11] ERROR CompanyData.Data.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at NHibernate.Connection.DriverConnectionProvider.GetConnection(String connectionString)
   at NHibernate.Connection.ConnectionProvider.GetConnection()
   at NHibernate.Tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.Prepare()
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.GetReservedWords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.UpdateDialectKeywords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.Update(ISessionFactoryImplementor sessionFactory)
   at NHibernate.Impl.SessionFactoryImpl..ctor(Configuration cfg, IMapping mapping, Settings settings, EventListeners listeners)
   at NHibernate.Cfg.Configuration.BuildSessionFactory()
   at CompanyData.Helpers.NHibernateSession.InitializeSessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 23
   at CompanyData.Helpers.NHibernateSession.get_SessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 15
   at CompanyData.Helpers.NHibernateSession.OpenSession() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 27
   at CompanyData.Data.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Data\CompanyActions.cs:line 40
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2020-11-10 19:04:25,791 [2] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2020-11-10 19:04:25,966 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-10 19:04:25,969 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-10 19:04:25,971 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-10 19:04:25,973 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-10 19:04:36,651 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-10 19:04:36,664 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-10 19:04:36,666 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-10 19:04:36,667 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-10 19:04:49,908 [9] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-10 19:04:49,958 [9] INFO  NHibernate.Cfg.Environment - NHibernate 5.3.3+7530a259e1b52ee8a9722e7bbd728ac913ef68f7 (assembly 5.3.0.0)
2020-11-10 19:04:50,051 [9] INFO  NHibernate.Cfg.Environment - Bytecode provider name : lcg
2020-11-10 19:04:50,053 [9] INFO  NHibernate.Cfg.Environment - Objects factory class : NHibernate.Bytecode.ActivatorObjectsFactory
2020-11-10 19:04:50,053 [9] INFO  NHibernate.Cfg.Environment - Using reflection optimizer
2020-11-10 19:04:50,071 [9] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-10 19:04:50,071 [9] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:04:50,071 [9] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-10 19:04:50,071 [9] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-10 19:04:50,071 [9] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-10 19:04:50,071 [9] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-10 19:04:50,071 [9] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-10 19:04:50,071 [9] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-10 19:04:50,073 [9] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-10 19:04:50,723 [9] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-10 19:04:50,774 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 19:04:50,796 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-10 19:04:50,797 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-10 19:04:50,812 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-10 19:04:50,818 [9] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-10 19:04:50,827 [9] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-10 19:04:50,827 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 19:04:50,827 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-10 19:04:50,827 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-10 19:04:50,828 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-10 19:04:50,833 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-10 19:04:50,843 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-10 19:04:50,843 [9] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-10 19:04:50,850 [9] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:04:50,876 [9] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-10 19:04:50,877 [9] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-10 19:04:50,877 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-10 19:04:50,881 [9] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-10 19:04:50,887 [9] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-10 19:04:50,887 [9] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-10 19:04:50,887 [9] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-10 19:04:50,890 [9] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-10 19:04:50,895 [9] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-10 19:04:50,918 [9] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:04:50,936 [9] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:04:51,011 [9] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-10 19:04:51,012 [9] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-10 19:04:51,013 [9] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-10 19:04:51,014 [9] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-10 19:04:51,039 [9] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:04:51,039 [9] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-10 19:04:51,040 [9] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-10 19:04:51,040 [9] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-10 19:04:51,040 [9] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-10 19:04:51,040 [9] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-10 19:04:51,040 [9] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-10 19:04:51,040 [9] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-10 19:04:51,041 [9] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-10 19:04:51,042 [9] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-10 19:04:51,044 [9] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-10 19:04:51,045 [9] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 19:04:51,045 [9] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-10 19:04:51,045 [9] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-10 19:04:51,045 [9] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-10 19:04:51,045 [9] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-10 19:04:51,046 [9] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 19:04:51,046 [9] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-10 19:04:51,046 [9] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-10 19:04:51,048 [9] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-10 19:04:51,067 [9] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-10 19:04:51,068 [9] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-10 19:04:51,068 [9] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-10 19:04:51,070 [9] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-10 19:05:28,206 [9] ERROR CompanyData.Data.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at NHibernate.Connection.DriverConnectionProvider.GetConnection(String connectionString)
   at NHibernate.Connection.ConnectionProvider.GetConnection()
   at NHibernate.Tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.Prepare()
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.GetReservedWords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.UpdateDialectKeywords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.Update(ISessionFactoryImplementor sessionFactory)
   at NHibernate.Impl.SessionFactoryImpl..ctor(Configuration cfg, IMapping mapping, Settings settings, EventListeners listeners)
   at NHibernate.Cfg.Configuration.BuildSessionFactory()
   at CompanyData.Helpers.NHibernateSession.InitializeSessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 23
   at CompanyData.Helpers.NHibernateSession.get_SessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 15
   at CompanyData.Helpers.NHibernateSession.OpenSession() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 27
   at CompanyData.Data.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Data\CompanyActions.cs:line 40
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2020-11-10 19:06:23,458 [13] INFO  CompanyData.Controllers.CompaniesController - CALL: Create(Company company)
2020-11-10 19:06:23,459 [13] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-10 19:06:23,459 [13] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:06:23,459 [13] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-10 19:06:23,459 [13] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-10 19:06:23,459 [13] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-10 19:06:23,459 [13] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-10 19:06:23,459 [13] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-10 19:06:23,459 [13] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-10 19:06:23,459 [13] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-10 19:06:23,461 [13] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-10 19:06:23,462 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 19:06:23,462 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-10 19:06:23,462 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-10 19:06:23,462 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-10 19:06:23,462 [13] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-10 19:06:23,463 [13] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-10 19:06:23,463 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-10 19:06:23,463 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-10 19:06:23,463 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-10 19:06:23,464 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-10 19:06:23,464 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-10 19:06:23,464 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-10 19:06:23,464 [13] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-10 19:06:23,464 [13] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:06:23,465 [13] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-10 19:06:23,465 [13] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-10 19:06:23,465 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-10 19:06:23,465 [13] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-10 19:06:23,465 [13] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-10 19:06:23,465 [13] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-10 19:06:23,465 [13] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-10 19:06:23,465 [13] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-10 19:06:23,465 [13] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-10 19:06:23,465 [13] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:06:23,466 [13] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:06:23,467 [13] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-10 19:06:23,467 [13] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-10 19:06:23,467 [13] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-10 19:06:23,467 [13] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-10 19:06:23,467 [13] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-10 19:06:23,468 [13] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-10 19:06:23,468 [13] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-10 19:06:23,468 [13] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-10 19:06:23,468 [13] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-10 19:06:23,469 [13] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-10 19:06:23,469 [13] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-10 19:06:23,469 [13] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-10 19:06:23,469 [13] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-10 19:07:00,452 [13] ERROR CompanyData.Data.CompanyActions - Error in long Create(Company company)
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at NHibernate.Connection.DriverConnectionProvider.GetConnection(String connectionString)
   at NHibernate.Connection.ConnectionProvider.GetConnection()
   at NHibernate.Tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.Prepare()
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.GetReservedWords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.UpdateDialectKeywords(Dialect dialect, IConnectionHelper connectionHelper)
   at NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.Update(ISessionFactoryImplementor sessionFactory)
   at NHibernate.Impl.SessionFactoryImpl..ctor(Configuration cfg, IMapping mapping, Settings settings, EventListeners listeners)
   at NHibernate.Cfg.Configuration.BuildSessionFactory()
   at CompanyData.Helpers.NHibernateSession.InitializeSessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 23
   at CompanyData.Helpers.NHibernateSession.get_SessionFactory() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 15
   at CompanyData.Helpers.NHibernateSession.OpenSession() in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Helpers\NHibernateSession.cs:line 27
   at CompanyData.Data.CompanyActions.Create(Company company) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Data\CompanyActions.cs:line 19
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2020-11-10 19:08:55,137 [2] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
