2020-11-11 18:40:40,751 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-11 18:40:40,770 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-11 18:40:40,811 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-11 18:40:40,813 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-11 18:41:09,495 [12] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:41:09,548 [12] INFO  NHibernate.Cfg.Environment - NHibernate 5.3.3+7530a259e1b52ee8a9722e7bbd728ac913ef68f7 (assembly 5.3.0.0)
2020-11-11 18:41:09,882 [12] INFO  NHibernate.Cfg.Environment - Bytecode provider name : lcg
2020-11-11 18:41:09,883 [12] INFO  NHibernate.Cfg.Environment - Objects factory class : NHibernate.Bytecode.ActivatorObjectsFactory
2020-11-11 18:41:09,883 [12] INFO  NHibernate.Cfg.Environment - Using reflection optimizer
2020-11-11 18:41:09,902 [12] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-11 18:41:09,902 [12] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:41:09,902 [12] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-11 18:41:09,902 [12] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-11 18:41:09,902 [12] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-11 18:41:09,902 [12] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-11 18:41:09,902 [12] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-11 18:41:09,902 [12] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-11 18:41:09,917 [12] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-11 18:41:11,149 [12] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-11 18:41:11,197 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-11 18:41:11,215 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-11 18:41:11,216 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-11 18:41:11,229 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 18:41:11,235 [12] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-11 18:41:11,242 [12] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-11 18:41:11,243 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-11 18:41:11,243 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-11 18:41:11,243 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-11 18:41:11,244 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-11 18:41:11,249 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-11 18:41:11,258 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-11 18:41:11,258 [12] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-11 18:41:11,265 [12] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:41:11,327 [12] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-11 18:41:11,327 [12] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-11 18:41:11,327 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-11 18:41:11,331 [12] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-11 18:41:11,339 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-11 18:41:11,339 [12] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-11 18:41:11,339 [12] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-11 18:41:11,341 [12] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-11 18:41:11,347 [12] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-11 18:41:11,369 [12] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:41:11,387 [12] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:41:11,484 [12] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-11 18:41:11,485 [12] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-11 18:41:11,486 [12] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-11 18:41:11,486 [12] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-11 18:41:11,553 [12] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:41:11,554 [12] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-11 18:41:11,555 [12] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-11 18:41:11,555 [12] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-11 18:41:11,555 [12] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-11 18:41:11,555 [12] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-11 18:41:11,555 [12] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-11 18:41:11,555 [12] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-11 18:41:11,555 [12] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-11 18:41:11,556 [12] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-11 18:41:11,558 [12] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-11 18:41:11,559 [12] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-11 18:41:11,559 [12] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-11 18:41:11,559 [12] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-11 18:41:11,559 [12] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-11 18:41:11,559 [12] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-11 18:41:11,560 [12] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-11 18:41:11,560 [12] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-11 18:41:11,560 [12] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-11 18:41:11,562 [12] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-11 18:41:11,579 [12] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-11 18:41:11,579 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-11 18:41:11,580 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-11 18:41:11,582 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:41:13,493 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:41:13,531 [12] DEBUG NHibernate.Impl.SessionFactoryObjectFactory - initializing class SessionFactoryObjectFactory
2020-11-11 18:41:13,531 [12] DEBUG NHibernate.Impl.SessionFactoryObjectFactory - registered: 1da01e9c244e436e8cc03db424b5f992(unnamed)
2020-11-11 18:41:13,531 [12] INFO  NHibernate.Impl.SessionFactoryObjectFactory - no name configured
2020-11-11 18:41:13,640 [12] DEBUG NHibernate.Tuple.Entity.AbstractEntityTuplizer - No custom accessors found for entity: CompanyData.Models.Company
2020-11-11 18:41:13,664 [12] DEBUG NHibernate.Tuple.Entity.PocoEntityTuplizer - Create Instantiator using optimizer for:CompanyData.Models.Company
2020-11-11 18:41:13,717 [12] DEBUG NHibernate.Tuple.Entity.AbstractEntityTuplizer - No custom accessors found for entity: CompanyData.Models.Employee
2020-11-11 18:41:13,717 [12] DEBUG NHibernate.Tuple.Entity.PocoEntityTuplizer - Create Instantiator using optimizer for:CompanyData.Models.Employee
2020-11-11 18:41:13,748 [12] DEBUG NHibernate.Persister.Collection.ICollectionPersister - Static SQL for collection: CompanyData.Models.Company.Employees
2020-11-11 18:41:13,749 [12] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  Row insert: UPDATE Employee SET CompanyID = ? WHERE ID = ?
2020-11-11 18:41:13,751 [12] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  Row delete: UPDATE Employee SET CompanyID = null WHERE CompanyID = ? AND ID = ?
2020-11-11 18:41:13,751 [12] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  One-shot delete: UPDATE Employee SET CompanyID = null WHERE CompanyID = ?
2020-11-11 18:41:13,797 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Static SQL for entity: CompanyData.Models.Company
2020-11-11 18:41:13,797 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Version select: SELECT ID FROM Company WHERE ID = ?
2020-11-11 18:41:13,797 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Snapshot select: SELECT company_.ID, company_.Name as name2_0_, company_.EstablishmentYear as establishmentyear3_0_ FROM Company company_ WHERE company_.ID=?
2020-11-11 18:41:13,797 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Insert 0: INSERT INTO Company (Name, EstablishmentYear, ID) VALUES (?, ?, ?)
2020-11-11 18:41:13,797 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Update 0: UPDATE Company SET Name = ?, EstablishmentYear = ? WHERE ID = ?
2020-11-11 18:41:13,797 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Delete 0: DELETE FROM Company WHERE ID = ?
2020-11-11 18:41:13,797 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Identity insert: INSERT INTO Company (Name, EstablishmentYear) VALUES (?, ?); select SCOPE_IDENTITY()
2020-11-11 18:41:13,862 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ WHERE company0_.ID=?
2020-11-11 18:41:13,862 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ WHERE company0_.ID=?
2020-11-11 18:41:13,862 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock) WHERE company0_.ID=?
2020-11-11 18:41:13,863 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock, nowait) WHERE company0_.ID=?
2020-11-11 18:41:13,863 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock) WHERE company0_.ID=?
2020-11-11 18:41:13,882 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_1_, company0_.Name as name2_0_1_, company0_.EstablishmentYear as establishmentyear3_0_1_, employees1_.CompanyID as companyid6_1_3_, employees1_.ID as id1_1_3_, employees1_.ID as id1_1_0_, employees1_.FirstName as firstname2_1_0_, employees1_.LastName as lastname3_1_0_, employees1_.DateOfBirth as dateofbirth4_1_0_, employees1_.JobTitle as jobtitle5_1_0_, employees1_.CompanyID as companyid6_1_0_ FROM Company company0_ left outer join Employee employees1_ on company0_.ID=employees1_.CompanyID WHERE company0_.ID=?
2020-11-11 18:41:13,882 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_1_, company0_.Name as name2_0_1_, company0_.EstablishmentYear as establishmentyear3_0_1_, employees1_.CompanyID as companyid6_1_3_, employees1_.ID as id1_1_3_, employees1_.ID as id1_1_0_, employees1_.FirstName as firstname2_1_0_, employees1_.LastName as lastname3_1_0_, employees1_.DateOfBirth as dateofbirth4_1_0_, employees1_.JobTitle as jobtitle5_1_0_, employees1_.CompanyID as companyid6_1_0_ FROM Company company0_ left outer join Employee employees1_ on company0_.ID=employees1_.CompanyID WHERE company0_.ID=?
2020-11-11 18:41:13,883 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Static SQL for entity: CompanyData.Models.Employee
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Version select: SELECT ID FROM Employee WHERE ID = ?
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Snapshot select: SELECT employee_.ID, employee_.FirstName as firstname2_1_, employee_.LastName as lastname3_1_, employee_.DateOfBirth as dateofbirth4_1_, employee_.JobTitle as jobtitle5_1_, employee_.CompanyID as companyid6_1_ FROM Employee employee_ WHERE employee_.ID=?
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Insert 0: INSERT INTO Employee (FirstName, LastName, DateOfBirth, JobTitle, CompanyID, ID) VALUES (?, ?, ?, ?, ?, ?)
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Update 0: UPDATE Employee SET FirstName = ?, LastName = ?, DateOfBirth = ?, JobTitle = ?, CompanyID = ? WHERE ID = ?
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Delete 0: DELETE FROM Employee WHERE ID = ?
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Identity insert: INSERT INTO Employee (FirstName, LastName, DateOfBirth, JobTitle, CompanyID) VALUES (?, ?, ?, ?, ?); select SCOPE_IDENTITY()
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ WHERE employee0_.ID=?
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ WHERE employee0_.ID=?
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock) WHERE employee0_.ID=?
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock, nowait) WHERE employee0_.ID=?
2020-11-11 18:41:13,884 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock) WHERE employee0_.ID=?
2020-11-11 18:41:13,885 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_1_, employee0_.FirstName as firstname2_1_1_, employee0_.LastName as lastname3_1_1_, employee0_.DateOfBirth as dateofbirth4_1_1_, employee0_.JobTitle as jobtitle5_1_1_, employee0_.CompanyID as companyid6_1_1_, company1_.ID as id1_0_0_, company1_.Name as name2_0_0_, company1_.EstablishmentYear as establishmentyear3_0_0_ FROM Employee employee0_ left outer join Company company1_ on employee0_.CompanyID=company1_.ID WHERE employee0_.ID=?
2020-11-11 18:41:13,885 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_1_, employee0_.FirstName as firstname2_1_1_, employee0_.LastName as lastname3_1_1_, employee0_.DateOfBirth as dateofbirth4_1_1_, employee0_.JobTitle as jobtitle5_1_1_, employee0_.CompanyID as companyid6_1_1_, company1_.ID as id1_0_0_, company1_.Name as name2_0_0_, company1_.EstablishmentYear as establishmentyear3_0_0_ FROM Employee employee0_ left outer join Company company1_ on employee0_.CompanyID=company1_.ID WHERE employee0_.ID=?
2020-11-11 18:41:13,888 [12] DEBUG NHibernate.Loader.Collection.OneToManyLoader - Static select for one-to-many CompanyData.Models.Company.Employees: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:41:13,888 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - Instantiated session factory
2020-11-11 18:41:13,892 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - Checking 0 named HQL queries
2020-11-11 18:41:13,892 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - Checking 0 named SQL queries
2020-11-11 18:41:13,895 [12] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:41:13,908 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=d60baf65-b1ce-4642-90e7-b5559a712aca] opened session at timestamp: 637407132739, for session factory: [/1da01e9c244e436e8cc03db424b5f992]
2020-11-11 18:41:14,126 [12] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:41:14,173 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:41:14,373 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 18:41:14,404 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 18:41:14,419 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:41:14,434 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:41:14,437 [12] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Name (Class)]
2020-11-11 18:41:14,438 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Name -> NHibernate.Type.StringType
2020-11-11 18:41:14,441 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Name -> company0_.Name
2020-11-11 18:41:14,455 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 18:41:14,456 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 18:41:14,458 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 18:41:14,459 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:41:14,459 [12] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 18:41:14,459 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 18:41:14,461 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 18:41:14,462 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 18:41:14,463 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 18:41:14,464 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 18:41:14,464 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 18:41:14,464 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 18:41:14,469 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 18:41:14,469 [12] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> FirstName (Class)]
2020-11-11 18:41:14,469 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : FirstName -> NHibernate.Type.StringType
2020-11-11 18:41:14,469 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.FirstName -> employees1_.FirstName
2020-11-11 18:41:14,470 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 18:41:14,470 [12] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> LastName (Class)]
2020-11-11 18:41:14,470 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : LastName -> NHibernate.Type.StringType
2020-11-11 18:41:14,470 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.LastName -> employees1_.LastName
2020-11-11 18:41:14,470 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 18:41:14,472 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( or ( like ( employees1_.FirstName employees1_.ID FirstName ) ( method concat ( expr_list '%' ? '%' ) ) ) ( like ( employees1_.LastName employees1_.ID LastName ) ( method concat ( expr_list '%' ? '%' ) ) ) ) ) )
2020-11-11 18:41:14,495 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 18:41:14,497 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:41:14,497 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:41:14,499 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 18:41:14,499 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 18:41:14,499 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( or ( like ( company0_.Name company0_.ID Name ) ( method concat ( expr_list '%' ? '%' ) ) ) ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( or ( like ( employees1_.FirstName employees1_.ID FirstName ) ( method concat ( expr_list '%' ? '%' ) ) ) ( like ( employees1_.LastName employees1_.ID LastName ) ( method concat ( expr_list '%' ? '%' ) ) ) ) ) ) ? ) ) ) )
2020-11-11 18:41:14,506 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 18:41:14,507 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 18:41:14,507 [12] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:41:14,571 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:41:14,571 [12] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:41:14,608 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:41:14,612 [12] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:41:14,614 [12] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:41:14,701 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:41:14,701 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:41:14,704 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:41:14,705 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:41:14,705 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:41:14,705 [12] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:41:14,718 [12] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:41:14,719 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:41:15,183 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 461 ms
2020-11-11 18:41:15,184 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:41:15,192 [12] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:41:15,192 [12] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:41:15,209 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:41:15,219 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:41:15,227 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:41:15,234 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:41:15,234 [12] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:41:15,235 [12] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:41:15,240 [12] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:41:15,243 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:41:15,243 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 521 ms
2020-11-11 18:41:15,244 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:41:15,244 [12] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:41:15,245 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:41:15,247 [12] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:41:15,252 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:41:15,259 [12] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:41:15,265 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:41:15,265 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:41:15,268 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:41:15,271 [12] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:41:15,276 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:41:15,276 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:41:15,277 [12] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:41:15,277 [12] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:41:15,277 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:41:15,279 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:41:15,279 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:41:15,280 [12] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:41:15,280 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:41:15,281 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:41:15,282 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:41:15,283 [12] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:41:15,283 [12] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:41:15,283 [12] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:41:15,284 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:41:15,284 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:41:15,284 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:41:15,284 [12] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:41:15,284 [12] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:41:15,290 [12] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:41:15,291 [12] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:41:15,291 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:41:15,292 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:41:15,292 [12] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:41:15,292 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:41:15,292 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:41:15,293 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:41:15,293 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:41:15,294 [12] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:41:15,299 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:41:15,300 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:41:15,302 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:41:15,303 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 26 ms
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:41:15,304 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:41:15,305 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:41:15,309 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:41:15,309 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:41:15,309 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:41:15,309 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:41:15,309 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:41:15,313 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:41:15,313 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:41:15,313 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@2357a97]
2020-11-11 18:41:15,316 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:41:15,316 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@2357a97]
2020-11-11 18:41:15,320 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:41:15,320 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:41:15,325 [12] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:41:15,325 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:41:15,325 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:41:15,325 [12] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:41:15,326 [12] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:41:15,327 [12] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:41:15,358 [12] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/1987 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:41:15,358 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:41:15,511 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=d60baf65-b1ce-4642-90e7-b5559a712aca] running ISession.Dispose()
2020-11-11 18:41:15,512 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=d60baf65-b1ce-4642-90e7-b5559a712aca] executing real Dispose(True)
2020-11-11 18:41:15,512 [12] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:41:15,512 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:41:15,519 [12] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:41:35,988 [2] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2020-11-11 18:45:23,629 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-11 18:45:23,641 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-11 18:45:23,642 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-11 18:45:23,644 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-11 18:45:41,794 [12] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:45:41,832 [12] INFO  NHibernate.Cfg.Environment - NHibernate 5.3.3+7530a259e1b52ee8a9722e7bbd728ac913ef68f7 (assembly 5.3.0.0)
2020-11-11 18:45:41,914 [12] INFO  NHibernate.Cfg.Environment - Bytecode provider name : lcg
2020-11-11 18:45:41,915 [12] INFO  NHibernate.Cfg.Environment - Objects factory class : NHibernate.Bytecode.ActivatorObjectsFactory
2020-11-11 18:45:41,915 [12] INFO  NHibernate.Cfg.Environment - Using reflection optimizer
2020-11-11 18:45:41,934 [12] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-11 18:45:41,934 [12] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:45:41,934 [12] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-11 18:45:41,934 [12] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-11 18:45:41,934 [12] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-11 18:45:41,934 [12] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-11 18:45:41,935 [12] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-11 18:45:41,935 [12] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-11 18:45:41,937 [12] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-11 18:45:42,657 [12] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-11 18:45:42,702 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-11 18:45:42,721 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-11 18:45:42,721 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-11 18:45:42,735 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 18:45:42,741 [12] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-11 18:45:42,747 [12] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-11 18:45:42,748 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-11 18:45:42,748 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-11 18:45:42,748 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-11 18:45:42,749 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-11 18:45:42,753 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-11 18:45:42,762 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-11 18:45:42,763 [12] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-11 18:45:42,770 [12] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:45:42,794 [12] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-11 18:45:42,795 [12] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-11 18:45:42,795 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-11 18:45:42,799 [12] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-11 18:45:42,804 [12] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-11 18:45:42,804 [12] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-11 18:45:42,804 [12] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-11 18:45:42,807 [12] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-11 18:45:42,812 [12] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-11 18:45:42,837 [12] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:45:42,856 [12] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:45:42,929 [12] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-11 18:45:42,929 [12] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-11 18:45:42,930 [12] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-11 18:45:42,931 [12] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-11 18:45:42,951 [12] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:45:42,951 [12] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-11 18:45:42,952 [12] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-11 18:45:42,952 [12] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-11 18:45:42,952 [12] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-11 18:45:42,952 [12] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-11 18:45:42,952 [12] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-11 18:45:42,952 [12] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-11 18:45:42,952 [12] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-11 18:45:42,953 [12] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-11 18:45:42,955 [12] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-11 18:45:42,956 [12] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-11 18:45:42,956 [12] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-11 18:45:42,956 [12] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-11 18:45:42,956 [12] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-11 18:45:42,956 [12] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-11 18:45:42,957 [12] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-11 18:45:42,957 [12] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-11 18:45:42,958 [12] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-11 18:45:42,960 [12] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-11 18:45:42,977 [12] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-11 18:45:42,978 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-11 18:45:42,978 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-11 18:45:42,980 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:45:43,339 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:45:43,348 [12] DEBUG NHibernate.Impl.SessionFactoryObjectFactory - initializing class SessionFactoryObjectFactory
2020-11-11 18:45:43,348 [12] DEBUG NHibernate.Impl.SessionFactoryObjectFactory - registered: 1c4e8b8cc9cb402384177cc6110a045a(unnamed)
2020-11-11 18:45:43,348 [12] INFO  NHibernate.Impl.SessionFactoryObjectFactory - no name configured
2020-11-11 18:45:43,450 [12] DEBUG NHibernate.Tuple.Entity.AbstractEntityTuplizer - No custom accessors found for entity: CompanyData.Models.Company
2020-11-11 18:45:43,480 [12] DEBUG NHibernate.Tuple.Entity.PocoEntityTuplizer - Create Instantiator using optimizer for:CompanyData.Models.Company
2020-11-11 18:45:43,516 [12] DEBUG NHibernate.Tuple.Entity.AbstractEntityTuplizer - No custom accessors found for entity: CompanyData.Models.Employee
2020-11-11 18:45:43,517 [12] DEBUG NHibernate.Tuple.Entity.PocoEntityTuplizer - Create Instantiator using optimizer for:CompanyData.Models.Employee
2020-11-11 18:45:43,548 [12] DEBUG NHibernate.Persister.Collection.ICollectionPersister - Static SQL for collection: CompanyData.Models.Company.Employees
2020-11-11 18:45:43,548 [12] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  Row insert: UPDATE Employee SET CompanyID = ? WHERE ID = ?
2020-11-11 18:45:43,550 [12] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  Row delete: UPDATE Employee SET CompanyID = null WHERE CompanyID = ? AND ID = ?
2020-11-11 18:45:43,551 [12] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  One-shot delete: UPDATE Employee SET CompanyID = null WHERE CompanyID = ?
2020-11-11 18:45:43,596 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Static SQL for entity: CompanyData.Models.Company
2020-11-11 18:45:43,596 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Version select: SELECT ID FROM Company WHERE ID = ?
2020-11-11 18:45:43,596 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Snapshot select: SELECT company_.ID, company_.Name as name2_0_, company_.EstablishmentYear as establishmentyear3_0_ FROM Company company_ WHERE company_.ID=?
2020-11-11 18:45:43,596 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Insert 0: INSERT INTO Company (Name, EstablishmentYear, ID) VALUES (?, ?, ?)
2020-11-11 18:45:43,597 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Update 0: UPDATE Company SET Name = ?, EstablishmentYear = ? WHERE ID = ?
2020-11-11 18:45:43,597 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Delete 0: DELETE FROM Company WHERE ID = ?
2020-11-11 18:45:43,597 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Identity insert: INSERT INTO Company (Name, EstablishmentYear) VALUES (?, ?); select SCOPE_IDENTITY()
2020-11-11 18:45:43,641 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ WHERE company0_.ID=?
2020-11-11 18:45:43,642 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ WHERE company0_.ID=?
2020-11-11 18:45:43,642 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock) WHERE company0_.ID=?
2020-11-11 18:45:43,642 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock, nowait) WHERE company0_.ID=?
2020-11-11 18:45:43,642 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock) WHERE company0_.ID=?
2020-11-11 18:45:43,662 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_1_, company0_.Name as name2_0_1_, company0_.EstablishmentYear as establishmentyear3_0_1_, employees1_.CompanyID as companyid6_1_3_, employees1_.ID as id1_1_3_, employees1_.ID as id1_1_0_, employees1_.FirstName as firstname2_1_0_, employees1_.LastName as lastname3_1_0_, employees1_.DateOfBirth as dateofbirth4_1_0_, employees1_.JobTitle as jobtitle5_1_0_, employees1_.CompanyID as companyid6_1_0_ FROM Company company0_ left outer join Employee employees1_ on company0_.ID=employees1_.CompanyID WHERE company0_.ID=?
2020-11-11 18:45:43,663 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_1_, company0_.Name as name2_0_1_, company0_.EstablishmentYear as establishmentyear3_0_1_, employees1_.CompanyID as companyid6_1_3_, employees1_.ID as id1_1_3_, employees1_.ID as id1_1_0_, employees1_.FirstName as firstname2_1_0_, employees1_.LastName as lastname3_1_0_, employees1_.DateOfBirth as dateofbirth4_1_0_, employees1_.JobTitle as jobtitle5_1_0_, employees1_.CompanyID as companyid6_1_0_ FROM Company company0_ left outer join Employee employees1_ on company0_.ID=employees1_.CompanyID WHERE company0_.ID=?
2020-11-11 18:45:43,664 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Static SQL for entity: CompanyData.Models.Employee
2020-11-11 18:45:43,664 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Version select: SELECT ID FROM Employee WHERE ID = ?
2020-11-11 18:45:43,664 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Snapshot select: SELECT employee_.ID, employee_.FirstName as firstname2_1_, employee_.LastName as lastname3_1_, employee_.DateOfBirth as dateofbirth4_1_, employee_.JobTitle as jobtitle5_1_, employee_.CompanyID as companyid6_1_ FROM Employee employee_ WHERE employee_.ID=?
2020-11-11 18:45:43,664 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Insert 0: INSERT INTO Employee (FirstName, LastName, DateOfBirth, JobTitle, CompanyID, ID) VALUES (?, ?, ?, ?, ?, ?)
2020-11-11 18:45:43,664 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Update 0: UPDATE Employee SET FirstName = ?, LastName = ?, DateOfBirth = ?, JobTitle = ?, CompanyID = ? WHERE ID = ?
2020-11-11 18:45:43,664 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Delete 0: DELETE FROM Employee WHERE ID = ?
2020-11-11 18:45:43,665 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Identity insert: INSERT INTO Employee (FirstName, LastName, DateOfBirth, JobTitle, CompanyID) VALUES (?, ?, ?, ?, ?); select SCOPE_IDENTITY()
2020-11-11 18:45:43,665 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ WHERE employee0_.ID=?
2020-11-11 18:45:43,665 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ WHERE employee0_.ID=?
2020-11-11 18:45:43,665 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock) WHERE employee0_.ID=?
2020-11-11 18:45:43,665 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock, nowait) WHERE employee0_.ID=?
2020-11-11 18:45:43,665 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock) WHERE employee0_.ID=?
2020-11-11 18:45:43,666 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_1_, employee0_.FirstName as firstname2_1_1_, employee0_.LastName as lastname3_1_1_, employee0_.DateOfBirth as dateofbirth4_1_1_, employee0_.JobTitle as jobtitle5_1_1_, employee0_.CompanyID as companyid6_1_1_, company1_.ID as id1_0_0_, company1_.Name as name2_0_0_, company1_.EstablishmentYear as establishmentyear3_0_0_ FROM Employee employee0_ left outer join Company company1_ on employee0_.CompanyID=company1_.ID WHERE employee0_.ID=?
2020-11-11 18:45:43,666 [12] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_1_, employee0_.FirstName as firstname2_1_1_, employee0_.LastName as lastname3_1_1_, employee0_.DateOfBirth as dateofbirth4_1_1_, employee0_.JobTitle as jobtitle5_1_1_, employee0_.CompanyID as companyid6_1_1_, company1_.ID as id1_0_0_, company1_.Name as name2_0_0_, company1_.EstablishmentYear as establishmentyear3_0_0_ FROM Employee employee0_ left outer join Company company1_ on employee0_.CompanyID=company1_.ID WHERE employee0_.ID=?
2020-11-11 18:45:43,670 [12] DEBUG NHibernate.Loader.Collection.OneToManyLoader - Static select for one-to-many CompanyData.Models.Company.Employees: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:45:43,670 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - Instantiated session factory
2020-11-11 18:45:43,673 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - Checking 0 named HQL queries
2020-11-11 18:45:43,673 [12] DEBUG NHibernate.Impl.SessionFactoryImpl - Checking 0 named SQL queries
2020-11-11 18:45:43,677 [12] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:45:43,690 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=d92e80ea-490a-4062-a9a9-8521cb8858c9] opened session at timestamp: 637407135436, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:46:20,342 [12] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:46:20,367 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:46:20,564 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 18:46:20,578 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 18:46:20,593 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:46:20,608 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:46:20,612 [12] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Name (Class)]
2020-11-11 18:46:20,614 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Name -> NHibernate.Type.StringType
2020-11-11 18:46:20,616 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Name -> company0_.Name
2020-11-11 18:46:20,630 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 18:46:20,631 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 18:46:20,635 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 18:46:20,636 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:46:20,636 [12] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 18:46:20,636 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 18:46:20,638 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 18:46:20,639 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 18:46:20,640 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 18:46:20,641 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 18:46:20,642 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 18:46:20,642 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 18:46:20,646 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 18:46:20,646 [12] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> FirstName (Class)]
2020-11-11 18:46:20,647 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : FirstName -> NHibernate.Type.StringType
2020-11-11 18:46:20,647 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.FirstName -> employees1_.FirstName
2020-11-11 18:46:20,647 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 18:46:20,647 [12] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> LastName (Class)]
2020-11-11 18:46:20,647 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : LastName -> NHibernate.Type.StringType
2020-11-11 18:46:20,647 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.LastName -> employees1_.LastName
2020-11-11 18:46:20,648 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 18:46:20,650 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( or ( like ( employees1_.FirstName employees1_.ID FirstName ) ( method concat ( expr_list '%' ? '%' ) ) ) ( like ( employees1_.LastName employees1_.ID LastName ) ( method concat ( expr_list '%' ? '%' ) ) ) ) ) )
2020-11-11 18:46:20,674 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 18:46:20,675 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:46:20,676 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:46:20,677 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 18:46:20,677 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 18:46:20,677 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( or ( like ( company0_.Name company0_.ID Name ) ( method concat ( expr_list '%' ? '%' ) ) ) ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( or ( like ( employees1_.FirstName employees1_.ID FirstName ) ( method concat ( expr_list '%' ? '%' ) ) ) ( like ( employees1_.LastName employees1_.ID LastName ) ( method concat ( expr_list '%' ? '%' ) ) ) ) ) ) ? ) ) ) )
2020-11-11 18:46:20,684 [12] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 18:46:20,684 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 18:46:20,685 [12] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:46:20,750 [12] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:46:20,751 [12] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:46:20,787 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:46:20,791 [12] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:46:20,793 [12] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:46:20,847 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:46:20,847 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:46:20,849 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:46:20,851 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:46:20,851 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:46:20,851 [12] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:46:20,864 [12] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:46:20,865 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:46:20,893 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 25 ms
2020-11-11 18:46:20,894 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:46:20,897 [12] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:46:20,898 [12] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:46:20,904 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:46:20,909 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:46:20,914 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:46:20,921 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:46:20,921 [12] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:46:20,921 [12] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:46:20,926 [12] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:46:20,929 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:46:20,929 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 61 ms
2020-11-11 18:46:20,930 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:46:20,931 [12] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:46:20,931 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:46:20,933 [12] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:46:20,939 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:46:20,945 [12] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:46:20,952 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:46:20,952 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:46:20,955 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:46:20,957 [12] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:46:20,961 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:46:20,961 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:46:20,963 [12] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:46:20,963 [12] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:46:20,964 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:46:20,964 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:46:20,964 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:46:20,965 [12] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:46:20,965 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:46:20,966 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:46:20,967 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:46:20,968 [12] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:46:20,968 [12] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:46:20,968 [12] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:46:20,968 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:46:20,969 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:46:20,969 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:46:20,969 [12] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:46:20,969 [12] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:46:20,973 [12] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:46:20,974 [12] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:46:20,974 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:46:20,975 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:46:20,975 [12] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:46:20,975 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:46:20,975 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:46:20,976 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:46:20,976 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:46:20,977 [12] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:46:20,982 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:46:20,983 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:46:20,984 [12] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 21 ms
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:46:20,985 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:46:20,986 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:46:20,990 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:46:20,990 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:46:20,990 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:46:20,990 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:46:20,990 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:46:20,993 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:46:20,993 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:46:20,993 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@fd6429]
2020-11-11 18:46:20,995 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:46:20,996 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@fd6429]
2020-11-11 18:46:21,000 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:46:21,001 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:46:21,005 [12] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:46:21,005 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:46:21,005 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:46:21,005 [12] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:46:21,007 [12] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:46:21,007 [12] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:46:45,504 [12] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/1987 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:46:45,505 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:46:45,629 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=d92e80ea-490a-4062-a9a9-8521cb8858c9] running ISession.Dispose()
2020-11-11 18:46:45,630 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=d92e80ea-490a-4062-a9a9-8521cb8858c9] executing real Dispose(True)
2020-11-11 18:46:45,630 [12] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:46:45,630 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:47:07,086 [12] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:47:11,031 [12] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:47:11,031 [12] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:47:11,032 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=8f8c3909-b90e-4164-ba74-97af857725e6] opened session at timestamp: 637407136310, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:47:27,139 [12] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:47:27,141 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:47:27,141 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:47:27,141 [12] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:47:27,142 [12] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:47:27,143 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:47:27,143 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:47:27,144 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:47:27,144 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:47:27,144 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:47:27,144 [12] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:47:27,145 [12] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:47:27,146 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:47:27,147 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:47:27,147 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:47:27,148 [12] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:47:27,148 [12] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:47:27,148 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:47:27,148 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:47:27,148 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:47:27,148 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:47:27,148 [12] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 3 ms
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:47:27,149 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:47:27,150 [12] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:47:27,150 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:47:27,150 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:47:27,150 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:47:27,150 [12] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:47:27,150 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:47:27,150 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:47:27,151 [12] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:47:27,151 [12] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:47:27,151 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:47:27,152 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:47:27,152 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:47:27,152 [12] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:47:27,152 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:47:27,152 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:47:27,152 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:47:27,153 [12] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:47:27,154 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:47:27,155 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:47:27,155 [12] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:47:27,155 [12] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:47:27,155 [12] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:47:27,155 [12] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:47:27,155 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:47:27,155 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:47:27,156 [12] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 5 ms
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@2b7b064]
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:47:27,157 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@2b7b064]
2020-11-11 18:47:27,158 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:47:27,158 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:47:27,158 [12] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:47:27,158 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:47:27,158 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:47:27,158 [12] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:47:27,158 [12] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:47:27,158 [12] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:47:44,753 [12] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/1987 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:47:44,754 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:47:44,859 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=8f8c3909-b90e-4164-ba74-97af857725e6] running ISession.Dispose()
2020-11-11 18:47:44,860 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=8f8c3909-b90e-4164-ba74-97af857725e6] executing real Dispose(True)
2020-11-11 18:47:44,860 [12] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:47:44,860 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:48:43,080 [12] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:48:47,198 [12] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:48:47,198 [12] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:48:47,198 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=671a00d1-7da6-4f71-bb86-cdefa32a066e] opened session at timestamp: 637407137271, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:48:48,445 [12] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:48:48,445 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:48:48,446 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:48:48,446 [12] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:48:48,446 [12] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:48:48,446 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:48:48,446 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:48:48,447 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:48:48,447 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:48:48,447 [12] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:48:48,447 [12] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:48:48,447 [12] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:48:48,447 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 5 ms
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:48:48,454 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 6 ms
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:48:48,455 [12] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:48:48,456 [12] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:48:48,458 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:48:48,458 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:48:48,458 [12] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:48:48,458 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:48:48,458 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:48:48,458 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:48:48,459 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:48:48,460 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 4 ms
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@25cb2bf]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@25cb2bf]
2020-11-11 18:48:48,461 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:48:48,462 [12] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:48:48,462 [12] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:48:48,462 [12] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:48:48,462 [12] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:48:48,462 [12] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:48:48,462 [12] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:48:48,462 [12] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:48:48,464 [12] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/1987 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:48:48,464 [12] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:48:48,578 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=671a00d1-7da6-4f71-bb86-cdefa32a066e] running ISession.Dispose()
2020-11-11 18:48:48,579 [12] DEBUG NHibernate.Impl.SessionImpl - [session-id=671a00d1-7da6-4f71-bb86-cdefa32a066e] executing real Dispose(True)
2020-11-11 18:48:48,579 [12] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:48:48,579 [12] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:48:56,697 [12] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:48:59,661 [25] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:48:59,661 [25] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:48:59,661 [25] DEBUG NHibernate.Impl.SessionImpl - [session-id=9f87610e-9e5e-4f78-b554-fe0a5433a02d] opened session at timestamp: 637407137396, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:49:03,949 [25] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:49:03,949 [25] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:49:03,950 [25] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:49:03,950 [25] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:49:03,950 [25] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:49:03,951 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:49:03,951 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:49:03,951 [25] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:49:03,951 [25] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:49:03,951 [25] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:49:03,951 [25] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:49:03,952 [25] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:49:03,954 [25] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:49:03,956 [25] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:49:03,957 [25] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:49:03,958 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:49:03,958 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:49:03,958 [25] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:49:03,958 [25] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:49:03,959 [25] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:49:03,960 [25] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:49:03,961 [25] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@2f5663e]
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:49:03,962 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@2f5663e]
2020-11-11 18:49:03,963 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:49:03,963 [25] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:49:03,963 [25] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:49:03,963 [25] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:49:03,963 [25] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:49:03,963 [25] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:49:03,963 [25] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:49:03,963 [25] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:49:40,046 [25] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/1987 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:49:40,047 [25] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:49:40,148 [25] DEBUG NHibernate.Impl.SessionImpl - [session-id=9f87610e-9e5e-4f78-b554-fe0a5433a02d] running ISession.Dispose()
2020-11-11 18:49:40,148 [25] DEBUG NHibernate.Impl.SessionImpl - [session-id=9f87610e-9e5e-4f78-b554-fe0a5433a02d] executing real Dispose(True)
2020-11-11 18:49:40,148 [25] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:49:40,148 [25] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:50:46,941 [25] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:51:47,556 [22] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:51:47,556 [22] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:51:47,556 [22] DEBUG NHibernate.Impl.SessionImpl - [session-id=60ba46c0-7e80-417f-b5c4-9233b60b0da5] opened session at timestamp: 637407139075, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:51:50,846 [22] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:51:50,847 [22] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:51:50,847 [22] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:51:50,847 [22] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:51:50,847 [22] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:51:50,848 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:51:50,848 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:51:50,848 [22] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:51:50,848 [22] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:51:50,848 [22] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:51:50,848 [22] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:51:50,849 [22] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:51:50,851 [22] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:51:50,853 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:51:50,853 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:51:50,853 [22] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:51:50,853 [22] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:51:50,853 [22] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:51:50,853 [22] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:51:50,853 [22] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:51:50,854 [22] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:51:50,855 [22] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:51:50,855 [22] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:51:50,855 [22] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:51:50,855 [22] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:51:50,855 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:51:50,855 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:51:50,855 [22] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:51:50,855 [22] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:51:50,856 [22] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:51:50,857 [22] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:51:50,858 [22] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@28bb622]
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@28bb622]
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:51:50,859 [22] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:53:09,457 [22] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/1987 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:53:09,457 [22] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:53:09,532 [22] DEBUG NHibernate.Impl.SessionImpl - [session-id=60ba46c0-7e80-417f-b5c4-9233b60b0da5] running ISession.Dispose()
2020-11-11 18:53:09,532 [22] DEBUG NHibernate.Impl.SessionImpl - [session-id=60ba46c0-7e80-417f-b5c4-9233b60b0da5] executing real Dispose(True)
2020-11-11 18:53:09,532 [22] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:53:09,532 [22] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:53:11,139 [22] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:53:19,796 [28] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:53:19,796 [28] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:53:19,796 [28] DEBUG NHibernate.Impl.SessionImpl - [session-id=fb10e70e-699c-43d4-a779-ff4720b2115f] opened session at timestamp: 637407139997, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:53:19,800 [28] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:53:19,800 [28] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:53:19,800 [28] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:53:19,800 [28] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:53:19,800 [28] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:53:19,801 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:53:19,801 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:53:19,801 [28] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:53:19,801 [28] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:53:19,801 [28] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:53:19,801 [28] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:53:19,801 [28] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:53:19,803 [28] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:53:19,816 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 12 ms
2020-11-11 18:53:19,816 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:53:19,816 [28] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:53:19,816 [28] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:53:19,816 [28] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:53:19,816 [28] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:53:19,816 [28] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 13 ms
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:53:19,817 [28] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:53:19,818 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:53:19,818 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:53:19,818 [28] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:53:19,818 [28] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:53:19,819 [28] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:53:19,821 [28] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:53:19,822 [28] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 4 ms
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:53:19,823 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@6a8c48]
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@6a8c48]
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:53:19,824 [28] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:53:24,834 [28] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/2010 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:53:24,834 [28] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:53:24,944 [28] DEBUG NHibernate.Impl.SessionImpl - [session-id=fb10e70e-699c-43d4-a779-ff4720b2115f] running ISession.Dispose()
2020-11-11 18:53:24,944 [28] DEBUG NHibernate.Impl.SessionImpl - [session-id=fb10e70e-699c-43d4-a779-ff4720b2115f] executing real Dispose(True)
2020-11-11 18:53:24,944 [28] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:53:24,944 [28] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:55:26,616 [28] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:55:30,032 [26] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:55:30,032 [26] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:55:30,032 [26] DEBUG NHibernate.Impl.SessionImpl - [session-id=a23d6ad9-971b-4dd7-aefd-0499daa469bc] opened session at timestamp: 637407141300, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:55:30,035 [26] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:55:30,035 [26] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:55:30,036 [26] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:55:30,036 [26] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:55:30,036 [26] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:55:30,037 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:30,037 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:55:30,037 [26] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:55:30,037 [26] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:55:30,037 [26] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:55:30,037 [26] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:55:30,038 [26] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:55:30,040 [26] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:30,043 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 2 ms
2020-11-11 18:55:30,043 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:30,043 [26] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:30,043 [26] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:30,043 [26] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:55:30,043 [26] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:55:30,043 [26] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:55:30,043 [26] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 3 ms
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:30,044 [26] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:30,045 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:30,045 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:30,045 [26] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:55:30,045 [26] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:55:30,046 [26] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:30,046 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:55:30,046 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:30,046 [26] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:30,046 [26] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:55:30,047 [26] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:30,048 [26] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@6e19d6]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@6e19d6]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:55:30,049 [26] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:55:41,140 [26] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/2010 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:55:41,140 [26] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:55:41,235 [26] DEBUG NHibernate.Impl.SessionImpl - [session-id=a23d6ad9-971b-4dd7-aefd-0499daa469bc] running ISession.Dispose()
2020-11-11 18:55:41,235 [26] DEBUG NHibernate.Impl.SessionImpl - [session-id=a23d6ad9-971b-4dd7-aefd-0499daa469bc] executing real Dispose(True)
2020-11-11 18:55:41,235 [26] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:55:41,235 [26] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:55:42,733 [26] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:55:45,934 [34] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:55:45,934 [34] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:55:45,934 [34] DEBUG NHibernate.Impl.SessionImpl - [session-id=9be88de4-f0cd-43e4-92ac-f4a53bd9e7d2] opened session at timestamp: 637407141459, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:55:45,940 [34] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:55:45,941 [34] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:55:45,941 [34] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:55:45,942 [34] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:55:45,942 [34] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:55:45,943 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:45,943 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:55:45,943 [34] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:55:45,943 [34] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:55:45,943 [34] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:55:45,943 [34] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:55:45,943 [34] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:55:45,954 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:45,956 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:55:45,956 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:45,956 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:45,956 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:55:45,957 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:55:45,958 [34] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:45,958 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:45,958 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:45,958 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:45,958 [34] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:45,959 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:45,959 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:45,959 [34] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:55:45,959 [34] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:55:45,961 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:45,964 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:45,965 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:55:45,966 [34] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 4 ms
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:45,967 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:55:45,968 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@b7b38b]
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@b7b38b]
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:55:45,969 [34] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:55:56,094 [34] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => value(System.Collections.Generic.List`1[CompanyData.Models.JobTitle]).Contains(employee.JobTitle.Value)).Select(employee => company).Count() > 0))
2020-11-11 18:55:56,100 [34] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Select[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null,CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (p1<System.Collections.Generic.List`1[CompanyData.Models.JobTitle]>.Contains(employee.JobTitle.Value, )), ), (employee, ) => (company), ), ), p2<System.Int32>))), ))
2020-11-11 18:55:56,123 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 18:55:56,123 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 18:55:56,123 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:55:56,123 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 18:55:56,123 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 18:55:56,123 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 18:55:56,123 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:55:56,124 [34] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 18:55:56,124 [34] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> JobTitle (Class)]
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : JobTitle -> NHibernate.Type.EnumType`1[CompanyData.Models.JobTitle]
2020-11-11 18:55:56,124 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.JobTitle -> employees1_.JobTitle
2020-11-11 18:55:56,128 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 18:55:56,128 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( in ( employees1_.JobTitle employees1_.ID JobTitle ) ( inlist ? ) ) ) )
2020-11-11 18:55:56,129 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 18:55:56,129 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:55:56,129 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:55:56,129 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 18:55:56,130 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 18:55:56,130 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( in ( employees1_.JobTitle employees1_.ID JobTitle ) ( inlist ? ) ) ) ) ? ) ) )
2020-11-11 18:55:56,130 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 18:55:56,130 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 18:55:56,130 [34] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:55:56,132 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.JobTitle in (?)))>?
2020-11-11 18:55:56,132 [34] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:55:56,137 [34] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Select[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null,CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (p1<System.Collections.Generic.List`1[CompanyData.Models.JobTitle]>.Contains(employee.JobTitle.Value, )), ), (employee, ) => (company), ), ), p2<System.Int32>))), ) p1:p1_0_p1_1_)
2020-11-11 18:55:56,137 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:55:56,138 [34] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 18:55:56,138 [34] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> JobTitle (Class)]
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : JobTitle -> NHibernate.Type.EnumType`1[CompanyData.Models.JobTitle]
2020-11-11 18:55:56,138 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.JobTitle -> employees1_.JobTitle
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( in ( employees1_.JobTitle employees1_.ID JobTitle ) ( inlist ? ? ) ) ) )
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( in ( employees1_.JobTitle employees1_.ID JobTitle ) ( inlist ? ? ) ) ) ) ? ) ) )
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.JobTitle in (? , ?)))>?
2020-11-11 18:55:56,139 [34] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:55:56,140 [34] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Select[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null,CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (p1<System.Collections.Generic.List`1[CompanyData.Models.JobTitle]>.Contains(employee.JobTitle.Value, )), ), (employee, ) => (company), ), ), p2<System.Int32>))), ) p1:p1_0_p1_1_
2020-11-11 18:55:56,140 [34] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p2'='0', 'p1_0_'='0', 'p1_1_'='1'}
2020-11-11 18:55:56,140 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:56,140 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.JobTitle in (? , ?)))>?
2020-11-11 18:55:56,140 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - binding '0' to parameter: 0
2020-11-11 18:55:56,141 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - binding '1' to parameter: 1
2020-11-11 18:55:56,141 [34] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 2
2020-11-11 18:55:56,141 [34] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.JobTitle in (@p0 , @p1)))>@p2;@p0 = 0 [Type: Int32 (0:0:0)], @p1 = 1 [Type: Int32 (0:0:0)], @p2 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:55:56,143 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:56,392 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 249 ms
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_0_
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#7]
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#7]
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#7]
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Type.StringType - returning 'AMD' as column: name2_0_
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Type.Int32Type - returning '1990' as column: establishmentyear3_0_
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_0_
2020-11-11 18:55:56,393 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#8]
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#8]
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#8]
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Type.StringType - returning 'AMD' as column: name2_0_
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Type.Int32Type - returning '1990' as column: establishmentyear3_0_
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Loader.Loader - result set row: 2
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Type.Int64Type - returning '9' as column: id1_0_
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#9]
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#9]
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#9]
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Type.StringType - returning 'AMD' as column: name2_0_
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Type.Int32Type - returning '1990' as column: establishmentyear3_0_
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Loader.Loader - result set row: 3
2020-11-11 18:55:56,394 [34] DEBUG NHibernate.Type.Int64Type - returning '10' as column: id1_0_
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#10]
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#10]
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#10]
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Type.StringType - returning 'BDC' as column: name2_0_
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Type.Int32Type - returning '1999' as column: establishmentyear3_0_
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Loader.Loader - result set row: 4
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Type.Int64Type - returning '13' as column: id1_0_
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#13]
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#13]
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#13]
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Type.StringType - returning 'BDC' as column: name2_0_
2020-11-11 18:55:56,395 [34] DEBUG NHibernate.Type.Int32Type - returning '1999' as column: establishmentyear3_0_
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Loader.Loader - result set row: 5
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Type.Int64Type - returning '14' as column: id1_0_
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#14]
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#14]
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#14]
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Type.StringType - returning 'Ccc' as column: name2_0_
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Type.Int32Type - returning '1999' as column: establishmentyear3_0_
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Loader.Loader - result set row: 6
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Type.Int64Type - returning '15' as column: id1_0_
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#15]
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#15]
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#15]
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Type.StringType - returning 'BBC' as column: name2_0_
2020-11-11 18:55:56,396 [34] DEBUG NHibernate.Type.Int32Type - returning '1993' as column: establishmentyear3_0_
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.Loader.Loader - done processing result set (7 rows)
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 253 ms
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 7
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#7]
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] located in load context
2020-11-11 18:55:56,397 [34] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#7]
2020-11-11 18:55:56,398 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#7]
2020-11-11 18:55:56,398 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:56,398 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:56,398 [34] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#7]
2020-11-11 18:55:56,398 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:56,399 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:56,399 [34] DEBUG NHibernate.Type.Int64Type - binding '7' to parameter: 0
2020-11-11 18:55:56,399 [34] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 7 [Type: Int64 (0:0:0)]
2020-11-11 18:55:56,402 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#7]
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#7]]
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] located in load context
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:56,404 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:56,405 [34] DEBUG NHibernate.Type.Int64Type - returning '21' as column: id1_1_0_
2020-11-11 18:55:56,405 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#21]
2020-11-11 18:55:56,405 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#21]
2020-11-11 18:55:56,405 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#21]
2020-11-11 18:55:56,405 [34] DEBUG NHibernate.Type.StringType - returning 'Kali' as column: firstname2_1_0_
2020-11-11 18:55:56,405 [34] DEBUG NHibernate.Type.StringType - returning 'Mada' as column: lastname3_1_0_
2020-11-11 18:55:56,405 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2001 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,406 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:55:56,406 [34] DEBUG NHibernate.Type.Int64Type - returning '7' as column: companyid6_1_0_
2020-11-11 18:55:56,406 [34] DEBUG NHibernate.Type.Int64Type - returning '7' as column: companyid6_1_1_
2020-11-11 18:55:56,406 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#7]
2020-11-11 18:55:56,406 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#7]]
2020-11-11 18:55:56,406 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 18:55:56,406 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] not located in load context
2020-11-11 18:55:56,406 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Type.Int64Type - returning '21' as column: id1_1_1_
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#21]
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#21]
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#21]
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Type.Int64Type - returning '22' as column: id1_1_0_
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#22]
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#22]
2020-11-11 18:55:56,407 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#22]
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Type.StringType - returning 'Eldo' as column: firstname2_1_0_
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Type.StringType - returning 'Dus' as column: lastname3_1_0_
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Type.Int64Type - returning '7' as column: companyid6_1_0_
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Type.Int64Type - returning '7' as column: companyid6_1_1_
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#7]
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#7]]
2020-11-11 18:55:56,408 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] not located in load context
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Type.Int64Type - returning '22' as column: id1_1_1_
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#22]
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#22]
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#22]
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 6 ms
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:56,409 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#21]
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#7]
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#21]
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#22]
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#7]
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#22]
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 18:55:56,410 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] not located in load context
2020-11-11 18:55:56,411 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#7]>@2ccaed2]
2020-11-11 18:55:56,411 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,411 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#7]>@2ccaed2]
2020-11-11 18:55:56,411 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#7]
2020-11-11 18:55:56,411 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,411 [34] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:56,411 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:56,412 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#7]
2020-11-11 18:55:56,412 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#8]
2020-11-11 18:55:56,412 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 18:55:56,412 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] located in load context
2020-11-11 18:55:56,412 [34] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#8]
2020-11-11 18:55:56,412 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#8]
2020-11-11 18:55:56,412 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:56,412 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:56,413 [34] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#8]
2020-11-11 18:55:56,413 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:56,413 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:56,414 [34] DEBUG NHibernate.Type.Int64Type - binding '8' to parameter: 0
2020-11-11 18:55:56,414 [34] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 8 [Type: Int64 (0:0:0)]
2020-11-11 18:55:56,415 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#8]
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#8]]
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] located in load context
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:56,416 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.Int64Type - returning '25' as column: id1_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#25]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#25]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#25]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.StringType - returning 'Kali' as column: firstname2_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.StringType - returning 'Mada' as column: lastname3_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2001 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.Int64Type - returning '8' as column: companyid6_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.Int64Type - returning '8' as column: companyid6_1_1_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#8]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#8]]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] not located in load context
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.Int64Type - returning '25' as column: id1_1_1_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#25]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#25]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#25]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.Int64Type - returning '26' as column: id1_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#26]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#26]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#26]
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.StringType - returning 'Eldo' as column: firstname2_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.StringType - returning 'Dus' as column: lastname3_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 18:55:56,417 [34] DEBUG NHibernate.Type.Int64Type - returning '8' as column: companyid6_1_0_
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Type.Int64Type - returning '8' as column: companyid6_1_1_
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#8]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#8]]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] not located in load context
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Type.Int64Type - returning '26' as column: id1_1_1_
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#26]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#26]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#26]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#25]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#8]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#25]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#26]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#8]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#26]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] not located in load context
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#8]>@33caf05]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#8]>@33caf05]
2020-11-11 18:55:56,418 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#8]
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#8]
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#9]
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] located in load context
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#9]
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#9]
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#9]
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.Type.Int64Type - binding '9' to parameter: 0
2020-11-11 18:55:56,419 [34] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 9 [Type: Int64 (0:0:0)]
2020-11-11 18:55:56,420 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#9]
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#9]]
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] located in load context
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:56,421 [34] DEBUG NHibernate.Type.Int64Type - returning '27' as column: id1_1_0_
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#27]
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#27]
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#27]
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Type.StringType - returning 'Kali' as column: firstname2_1_0_
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Type.StringType - returning 'Mada' as column: lastname3_1_0_
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2001 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Type.Int64Type - returning '9' as column: companyid6_1_0_
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Type.Int64Type - returning '9' as column: companyid6_1_1_
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#9]
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#9]]
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] not located in load context
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Type.Int64Type - returning '27' as column: id1_1_1_
2020-11-11 18:55:56,422 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#27]
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#27]
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#27]
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Type.Int64Type - returning '28' as column: id1_1_0_
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#28]
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#28]
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#28]
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Type.StringType - returning 'Eldo' as column: firstname2_1_0_
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Type.StringType - returning 'Dus' as column: lastname3_1_0_
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Type.Int64Type - returning '9' as column: companyid6_1_0_
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Type.Int64Type - returning '9' as column: companyid6_1_1_
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#9]
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#9]]
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] not located in load context
2020-11-11 18:55:56,423 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Type.Int64Type - returning '28' as column: id1_1_1_
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#28]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#28]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#28]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 3 ms
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#27]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#9]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#27]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#28]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#9]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#28]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] not located in load context
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#9]>@3efcfa8]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#9]>@3efcfa8]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#9]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#9]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#10]
2020-11-11 18:55:56,424 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] located in load context
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#10]
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#10]
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#10]
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.Type.Int64Type - binding '10' to parameter: 0
2020-11-11 18:55:56,425 [34] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 10 [Type: Int64 (0:0:0)]
2020-11-11 18:55:56,426 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#10]
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#10]]
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] located in load context
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Type.Int64Type - returning '29' as column: id1_1_0_
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#29]
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#29]
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#29]
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Type.StringType - returning 'Mat' as column: firstname2_1_0_
2020-11-11 18:55:56,427 [34] DEBUG NHibernate.Type.StringType - returning 'Prat' as column: lastname3_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1900 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.Int64Type - returning '10' as column: companyid6_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.Int64Type - returning '10' as column: companyid6_1_1_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#10]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#10]]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] not located in load context
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.Int64Type - returning '29' as column: id1_1_1_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#29]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#29]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#29]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.Int64Type - returning '30' as column: id1_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#30]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#30]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#30]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.StringType - returning 'As' as column: firstname2_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.StringType - returning 'Asd' as column: lastname3_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1933 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.Int64Type - returning '10' as column: companyid6_1_0_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.Int64Type - returning '10' as column: companyid6_1_1_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#10]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#10]]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] not located in load context
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Type.Int64Type - returning '30' as column: id1_1_1_
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#30]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#30]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#30]
2020-11-11 18:55:56,428 [34] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#29]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#10]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#29]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#30]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#10]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#30]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] not located in load context
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#10]>@39a6f87]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#10]>@39a6f87]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#10]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#10]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#13]
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] located in load context
2020-11-11 18:55:56,429 [34] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#13]
2020-11-11 18:55:56,430 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#13]
2020-11-11 18:55:56,430 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:56,430 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:56,430 [34] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#13]
2020-11-11 18:55:56,430 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:56,430 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:56,430 [34] DEBUG NHibernate.Type.Int64Type - binding '13' to parameter: 0
2020-11-11 18:55:56,430 [34] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 13 [Type: Int64 (0:0:0)]
2020-11-11 18:55:56,432 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:56,432 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:55:56,432 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:56,432 [34] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#13]
2020-11-11 18:55:56,432 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#13]]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] located in load context
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.Int64Type - returning '35' as column: id1_1_0_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#35]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#35]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#35]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.StringType - returning 'Aa' as column: firstname2_1_0_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.StringType - returning 'Bb' as column: lastname3_1_0_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2002 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '4' as column: jobtitle5_1_0_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.Int64Type - returning '13' as column: companyid6_1_0_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.Int64Type - returning '13' as column: companyid6_1_1_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#13]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#13]]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] not located in load context
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.Int64Type - returning '35' as column: id1_1_1_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#35]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#35]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#35]
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Type.Int64Type - returning '36' as column: id1_1_0_
2020-11-11 18:55:56,433 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#36]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#36]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#36]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Type.StringType - returning 'Cc' as column: firstname2_1_0_
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Type.StringType - returning 'Dd' as column: lastname3_1_0_
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2010 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Type.Int64Type - returning '13' as column: companyid6_1_0_
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Type.Int64Type - returning '13' as column: companyid6_1_1_
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#13]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#13]]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] not located in load context
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Type.Int64Type - returning '36' as column: id1_1_1_
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#36]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#36]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#36]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#35]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#13]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#35]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#36]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#13]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#36]
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] not located in load context
2020-11-11 18:55:56,434 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#13]>@6db099]
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#13]>@6db099]
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#13]
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#13]
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#14]
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] located in load context
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#14]
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#14]
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#14]
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.Type.Int64Type - binding '14' to parameter: 0
2020-11-11 18:55:56,435 [34] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 14 [Type: Int64 (0:0:0)]
2020-11-11 18:55:56,436 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#14]
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#14]]
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] located in load context
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Type.Int64Type - returning '37' as column: id1_1_0_
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#37]
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#37]
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#37]
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Type.StringType - returning 'Ed' as column: firstname2_1_0_
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Type.StringType - returning 'Eddy' as column: lastname3_1_0_
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2002 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '4' as column: jobtitle5_1_0_
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Type.Int64Type - returning '14' as column: companyid6_1_0_
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Type.Int64Type - returning '14' as column: companyid6_1_1_
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#14]
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#14]]
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] not located in load context
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,437 [34] DEBUG NHibernate.Type.Int64Type - returning '37' as column: id1_1_1_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#37]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#37]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#37]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Type.Int64Type - returning '38' as column: id1_1_0_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#38]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#38]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#38]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Type.StringType - returning 'Big D' as column: firstname2_1_0_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Type.StringType - returning 'Alejs' as column: lastname3_1_0_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2010 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Type.Int64Type - returning '14' as column: companyid6_1_0_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Type.Int64Type - returning '14' as column: companyid6_1_1_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#14]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#14]]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] not located in load context
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Type.Int64Type - returning '38' as column: id1_1_1_
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#38]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#38]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#38]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 1 ms
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#37]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#14]
2020-11-11 18:55:56,438 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#37]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#38]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#14]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#38]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] not located in load context
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#14]>@92328b]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#14]>@92328b]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#14]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#14]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#15]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] located in load context
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#15]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#15]
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:55:56,439 [34] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#15]
2020-11-11 18:55:56,440 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:55:56,440 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:55:56,440 [34] DEBUG NHibernate.Type.Int64Type - binding '15' to parameter: 0
2020-11-11 18:55:56,440 [34] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 15 [Type: Int64 (0:0:0)]
2020-11-11 18:55:56,441 [34] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#15]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#15]]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] located in load context
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Type.Int64Type - returning '39' as column: id1_1_0_
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#39]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#39]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#39]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Type.StringType - returning 'Ad' as column: firstname2_1_0_
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Type.StringType - returning 'Bundy' as column: lastname3_1_0_
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2002 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '4' as column: jobtitle5_1_0_
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Type.Int64Type - returning '15' as column: companyid6_1_0_
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Type.Int64Type - returning '15' as column: companyid6_1_1_
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#15]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#15]]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] not located in load context
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Type.Int64Type - returning '39' as column: id1_1_1_
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#39]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#39]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#39]
2020-11-11 18:55:56,443 [34] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Type.Int64Type - returning '40' as column: id1_1_0_
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#40]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#40]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#40]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Type.StringType - returning 'Big T' as column: firstname2_1_0_
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Type.StringType - returning 'Hejo' as column: lastname3_1_0_
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2010 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Type.Int64Type - returning '15' as column: companyid6_1_0_
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Type.Int64Type - returning '15' as column: companyid6_1_1_
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#15]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#15]]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] not located in load context
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Type.Int64Type - returning '40' as column: id1_1_1_
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#40]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#40]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#40]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#39]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#15]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#39]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#40]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#15]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#40]
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] not located in load context
2020-11-11 18:55:56,444 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#15]>@3e95935]
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#15]>@3e95935]
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#15]
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#15]
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:55:56,445 [34] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:56:01,136 [34] DEBUG NHibernate.Impl.SessionImpl - [session-id=9be88de4-f0cd-43e4-92ac-f4a53bd9e7d2] running ISession.Dispose()
2020-11-11 18:56:01,136 [34] DEBUG NHibernate.Impl.SessionImpl - [session-id=9be88de4-f0cd-43e4-92ac-f4a53bd9e7d2] executing real Dispose(True)
2020-11-11 18:56:01,136 [34] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:56:01,137 [34] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:56:56,666 [35] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:56:56,666 [35] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:56:56,667 [35] DEBUG NHibernate.Impl.SessionImpl - [session-id=d594a915-1111-4ba3-ad8e-0fca8e799900] opened session at timestamp: 637407142166, for session factory: [/1c4e8b8cc9cb402384177cc6110a045a]
2020-11-11 18:56:56,670 [35] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:56:56,671 [35] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:56:56,671 [35] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:56:56,671 [35] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:56:56,671 [35] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:56:56,672 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:56:56,672 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:56:56,672 [35] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:56:56,672 [35] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:56:56,673 [35] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:56:56,673 [35] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:56:56,673 [35] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:56:56,675 [35] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 1 ms
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:56:56,677 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:56:56,678 [35] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:56:56,679 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:56:56,679 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:56:56,679 [35] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:56:56,679 [35] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:56:56,680 [35] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:56:56,681 [35] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:56:56,682 [35] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:56:56,683 [35] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@3d3bc97]
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@3d3bc97]
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:56:56,684 [35] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:58:23,472 [35] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/2010 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:58:23,473 [35] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 18:58:23,549 [35] DEBUG NHibernate.Impl.SessionImpl - [session-id=d594a915-1111-4ba3-ad8e-0fca8e799900] running ISession.Dispose()
2020-11-11 18:58:23,549 [35] DEBUG NHibernate.Impl.SessionImpl - [session-id=d594a915-1111-4ba3-ad8e-0fca8e799900] executing real Dispose(True)
2020-11-11 18:58:23,549 [35] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:58:23,549 [35] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 18:58:24,527 [35] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 18:58:28,872 [2] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2020-11-11 18:59:32,684 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-11 18:59:32,698 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-11 18:59:32,700 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-11 18:59:32,702 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-11 18:59:37,512 [8] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 18:59:37,545 [8] INFO  NHibernate.Cfg.Environment - NHibernate 5.3.3+7530a259e1b52ee8a9722e7bbd728ac913ef68f7 (assembly 5.3.0.0)
2020-11-11 18:59:37,620 [8] INFO  NHibernate.Cfg.Environment - Bytecode provider name : lcg
2020-11-11 18:59:37,621 [8] INFO  NHibernate.Cfg.Environment - Objects factory class : NHibernate.Bytecode.ActivatorObjectsFactory
2020-11-11 18:59:37,621 [8] INFO  NHibernate.Cfg.Environment - Using reflection optimizer
2020-11-11 18:59:37,639 [8] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-11 18:59:37,639 [8] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:59:37,639 [8] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-11 18:59:37,639 [8] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-11 18:59:37,639 [8] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-11 18:59:37,639 [8] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-11 18:59:37,639 [8] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-11 18:59:37,640 [8] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-11 18:59:37,641 [8] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-11 18:59:38,265 [8] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-11 18:59:38,313 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-11 18:59:38,333 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-11 18:59:38,334 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-11 18:59:38,348 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 18:59:38,354 [8] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-11 18:59:38,362 [8] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-11 18:59:38,362 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-11 18:59:38,362 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-11 18:59:38,362 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-11 18:59:38,363 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-11 18:59:38,368 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-11 18:59:38,377 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-11 18:59:38,378 [8] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-11 18:59:38,384 [8] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:59:38,409 [8] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-11 18:59:38,410 [8] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-11 18:59:38,410 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-11 18:59:38,414 [8] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-11 18:59:38,420 [8] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-11 18:59:38,420 [8] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-11 18:59:38,420 [8] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-11 18:59:38,423 [8] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-11 18:59:38,428 [8] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-11 18:59:38,449 [8] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:59:38,467 [8] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:59:38,537 [8] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-11 18:59:38,538 [8] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-11 18:59:38,539 [8] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-11 18:59:38,539 [8] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-11 18:59:38,557 [8] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 18:59:38,558 [8] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-11 18:59:38,559 [8] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-11 18:59:38,559 [8] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-11 18:59:38,559 [8] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-11 18:59:38,559 [8] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-11 18:59:38,559 [8] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-11 18:59:38,559 [8] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-11 18:59:38,559 [8] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-11 18:59:38,560 [8] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-11 18:59:38,562 [8] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-11 18:59:38,563 [8] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-11 18:59:38,563 [8] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-11 18:59:38,563 [8] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-11 18:59:38,563 [8] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-11 18:59:38,563 [8] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-11 18:59:38,564 [8] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-11 18:59:38,564 [8] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-11 18:59:38,564 [8] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-11 18:59:38,566 [8] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-11 18:59:38,583 [8] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-11 18:59:38,584 [8] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-11 18:59:38,584 [8] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-11 18:59:38,586 [8] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:59:38,913 [8] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:59:38,921 [8] DEBUG NHibernate.Impl.SessionFactoryObjectFactory - initializing class SessionFactoryObjectFactory
2020-11-11 18:59:38,921 [8] DEBUG NHibernate.Impl.SessionFactoryObjectFactory - registered: 59811ad9826944f784c151fc6aa83678(unnamed)
2020-11-11 18:59:38,921 [8] INFO  NHibernate.Impl.SessionFactoryObjectFactory - no name configured
2020-11-11 18:59:39,030 [8] DEBUG NHibernate.Tuple.Entity.AbstractEntityTuplizer - No custom accessors found for entity: CompanyData.Models.Company
2020-11-11 18:59:39,054 [8] DEBUG NHibernate.Tuple.Entity.PocoEntityTuplizer - Create Instantiator using optimizer for:CompanyData.Models.Company
2020-11-11 18:59:39,087 [8] DEBUG NHibernate.Tuple.Entity.AbstractEntityTuplizer - No custom accessors found for entity: CompanyData.Models.Employee
2020-11-11 18:59:39,087 [8] DEBUG NHibernate.Tuple.Entity.PocoEntityTuplizer - Create Instantiator using optimizer for:CompanyData.Models.Employee
2020-11-11 18:59:39,120 [8] DEBUG NHibernate.Persister.Collection.ICollectionPersister - Static SQL for collection: CompanyData.Models.Company.Employees
2020-11-11 18:59:39,120 [8] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  Row insert: UPDATE Employee SET CompanyID = ? WHERE ID = ?
2020-11-11 18:59:39,122 [8] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  Row delete: UPDATE Employee SET CompanyID = null WHERE CompanyID = ? AND ID = ?
2020-11-11 18:59:39,123 [8] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  One-shot delete: UPDATE Employee SET CompanyID = null WHERE CompanyID = ?
2020-11-11 18:59:39,171 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Static SQL for entity: CompanyData.Models.Company
2020-11-11 18:59:39,171 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Version select: SELECT ID FROM Company WHERE ID = ?
2020-11-11 18:59:39,171 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Snapshot select: SELECT company_.ID, company_.Name as name2_0_, company_.EstablishmentYear as establishmentyear3_0_ FROM Company company_ WHERE company_.ID=?
2020-11-11 18:59:39,171 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Insert 0: INSERT INTO Company (Name, EstablishmentYear, ID) VALUES (?, ?, ?)
2020-11-11 18:59:39,171 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Update 0: UPDATE Company SET Name = ?, EstablishmentYear = ? WHERE ID = ?
2020-11-11 18:59:39,171 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Delete 0: DELETE FROM Company WHERE ID = ?
2020-11-11 18:59:39,171 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Identity insert: INSERT INTO Company (Name, EstablishmentYear) VALUES (?, ?); select SCOPE_IDENTITY()
2020-11-11 18:59:39,217 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ WHERE company0_.ID=?
2020-11-11 18:59:39,218 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ WHERE company0_.ID=?
2020-11-11 18:59:39,218 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock) WHERE company0_.ID=?
2020-11-11 18:59:39,218 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock, nowait) WHERE company0_.ID=?
2020-11-11 18:59:39,218 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock) WHERE company0_.ID=?
2020-11-11 18:59:39,236 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_1_, company0_.Name as name2_0_1_, company0_.EstablishmentYear as establishmentyear3_0_1_, employees1_.CompanyID as companyid6_1_3_, employees1_.ID as id1_1_3_, employees1_.ID as id1_1_0_, employees1_.FirstName as firstname2_1_0_, employees1_.LastName as lastname3_1_0_, employees1_.DateOfBirth as dateofbirth4_1_0_, employees1_.JobTitle as jobtitle5_1_0_, employees1_.CompanyID as companyid6_1_0_ FROM Company company0_ left outer join Employee employees1_ on company0_.ID=employees1_.CompanyID WHERE company0_.ID=?
2020-11-11 18:59:39,236 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_1_, company0_.Name as name2_0_1_, company0_.EstablishmentYear as establishmentyear3_0_1_, employees1_.CompanyID as companyid6_1_3_, employees1_.ID as id1_1_3_, employees1_.ID as id1_1_0_, employees1_.FirstName as firstname2_1_0_, employees1_.LastName as lastname3_1_0_, employees1_.DateOfBirth as dateofbirth4_1_0_, employees1_.JobTitle as jobtitle5_1_0_, employees1_.CompanyID as companyid6_1_0_ FROM Company company0_ left outer join Employee employees1_ on company0_.ID=employees1_.CompanyID WHERE company0_.ID=?
2020-11-11 18:59:39,237 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Static SQL for entity: CompanyData.Models.Employee
2020-11-11 18:59:39,237 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Version select: SELECT ID FROM Employee WHERE ID = ?
2020-11-11 18:59:39,237 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Snapshot select: SELECT employee_.ID, employee_.FirstName as firstname2_1_, employee_.LastName as lastname3_1_, employee_.DateOfBirth as dateofbirth4_1_, employee_.JobTitle as jobtitle5_1_, employee_.CompanyID as companyid6_1_ FROM Employee employee_ WHERE employee_.ID=?
2020-11-11 18:59:39,237 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Insert 0: INSERT INTO Employee (FirstName, LastName, DateOfBirth, JobTitle, CompanyID, ID) VALUES (?, ?, ?, ?, ?, ?)
2020-11-11 18:59:39,237 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Update 0: UPDATE Employee SET FirstName = ?, LastName = ?, DateOfBirth = ?, JobTitle = ?, CompanyID = ? WHERE ID = ?
2020-11-11 18:59:39,237 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Delete 0: DELETE FROM Employee WHERE ID = ?
2020-11-11 18:59:39,237 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Identity insert: INSERT INTO Employee (FirstName, LastName, DateOfBirth, JobTitle, CompanyID) VALUES (?, ?, ?, ?, ?); select SCOPE_IDENTITY()
2020-11-11 18:59:39,237 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ WHERE employee0_.ID=?
2020-11-11 18:59:39,238 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ WHERE employee0_.ID=?
2020-11-11 18:59:39,238 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock) WHERE employee0_.ID=?
2020-11-11 18:59:39,238 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock, nowait) WHERE employee0_.ID=?
2020-11-11 18:59:39,238 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock) WHERE employee0_.ID=?
2020-11-11 18:59:39,238 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_1_, employee0_.FirstName as firstname2_1_1_, employee0_.LastName as lastname3_1_1_, employee0_.DateOfBirth as dateofbirth4_1_1_, employee0_.JobTitle as jobtitle5_1_1_, employee0_.CompanyID as companyid6_1_1_, company1_.ID as id1_0_0_, company1_.Name as name2_0_0_, company1_.EstablishmentYear as establishmentyear3_0_0_ FROM Employee employee0_ left outer join Company company1_ on employee0_.CompanyID=company1_.ID WHERE employee0_.ID=?
2020-11-11 18:59:39,238 [8] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_1_, employee0_.FirstName as firstname2_1_1_, employee0_.LastName as lastname3_1_1_, employee0_.DateOfBirth as dateofbirth4_1_1_, employee0_.JobTitle as jobtitle5_1_1_, employee0_.CompanyID as companyid6_1_1_, company1_.ID as id1_0_0_, company1_.Name as name2_0_0_, company1_.EstablishmentYear as establishmentyear3_0_0_ FROM Employee employee0_ left outer join Company company1_ on employee0_.CompanyID=company1_.ID WHERE employee0_.ID=?
2020-11-11 18:59:39,242 [8] DEBUG NHibernate.Loader.Collection.OneToManyLoader - Static select for one-to-many CompanyData.Models.Company.Employees: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:59:39,242 [8] DEBUG NHibernate.Impl.SessionFactoryImpl - Instantiated session factory
2020-11-11 18:59:39,246 [8] DEBUG NHibernate.Impl.SessionFactoryImpl - Checking 0 named HQL queries
2020-11-11 18:59:39,246 [8] DEBUG NHibernate.Impl.SessionFactoryImpl - Checking 0 named SQL queries
2020-11-11 18:59:39,249 [8] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 18:59:39,262 [8] DEBUG NHibernate.Impl.SessionImpl - [session-id=c6ff20a6-8f20-4eb0-8a7e-a48befb95ade] opened session at timestamp: 637407143792, for session factory: [/59811ad9826944f784c151fc6aa83678]
2020-11-11 18:59:39,386 [8] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 18:59:39,409 [8] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:59:39,614 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 18:59:39,629 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 18:59:39,644 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:59:39,660 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:59:39,663 [8] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Name (Class)]
2020-11-11 18:59:39,664 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Name -> NHibernate.Type.StringType
2020-11-11 18:59:39,666 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Name -> company0_.Name
2020-11-11 18:59:39,679 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 18:59:39,680 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 18:59:39,683 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 18:59:39,683 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 18:59:39,683 [8] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 18:59:39,683 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 18:59:39,685 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 18:59:39,686 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 18:59:39,687 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 18:59:39,688 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 18:59:39,689 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 18:59:39,689 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 18:59:39,693 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 18:59:39,693 [8] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> FirstName (Class)]
2020-11-11 18:59:39,693 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : FirstName -> NHibernate.Type.StringType
2020-11-11 18:59:39,693 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.FirstName -> employees1_.FirstName
2020-11-11 18:59:39,693 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 18:59:39,693 [8] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> LastName (Class)]
2020-11-11 18:59:39,693 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : LastName -> NHibernate.Type.StringType
2020-11-11 18:59:39,693 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.LastName -> employees1_.LastName
2020-11-11 18:59:39,694 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 18:59:39,696 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( or ( like ( employees1_.FirstName employees1_.ID FirstName ) ( method concat ( expr_list '%' ? '%' ) ) ) ( like ( employees1_.LastName employees1_.ID LastName ) ( method concat ( expr_list '%' ? '%' ) ) ) ) ) )
2020-11-11 18:59:39,718 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 18:59:39,720 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:59:39,720 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 18:59:39,721 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 18:59:39,722 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 18:59:39,722 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( or ( like ( company0_.Name company0_.ID Name ) ( method concat ( expr_list '%' ? '%' ) ) ) ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( or ( like ( employees1_.FirstName employees1_.ID FirstName ) ( method concat ( expr_list '%' ? '%' ) ) ) ( like ( employees1_.LastName employees1_.ID LastName ) ( method concat ( expr_list '%' ? '%' ) ) ) ) ) ) ? ) ) ) )
2020-11-11 18:59:39,728 [8] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 18:59:39,728 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 18:59:39,729 [8] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:59:39,793 [8] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:59:39,794 [8] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 18:59:39,830 [8] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 18:59:39,835 [8] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 18:59:39,836 [8] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 18:59:39,889 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:59:39,890 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 18:59:39,892 [8] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 18:59:39,893 [8] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 18:59:39,893 [8] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 18:59:39,894 [8] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 18:59:39,905 [8] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 18:59:39,907 [8] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:59:39,934 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 24 ms
2020-11-11 18:59:39,934 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:59:39,937 [8] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:59:39,937 [8] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:59:39,944 [8] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 18:59:39,949 [8] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 18:59:39,953 [8] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 18:59:39,960 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 18:59:39,961 [8] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 18:59:39,961 [8] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 18:59:39,966 [8] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 18:59:39,969 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:59:39,969 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 59 ms
2020-11-11 18:59:39,970 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:59:39,970 [8] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:59:39,971 [8] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:59:39,973 [8] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 18:59:39,979 [8] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 18:59:39,985 [8] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:59:39,991 [8] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 18:59:39,991 [8] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 18:59:39,994 [8] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 18:59:39,997 [8] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:59:40,002 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 18:59:40,002 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 18:59:40,003 [8] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 18:59:40,003 [8] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 18:59:40,004 [8] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 18:59:40,004 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 18:59:40,004 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 18:59:40,004 [8] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:59:40,005 [8] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 18:59:40,006 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:59:40,006 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 18:59:40,008 [8] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 18:59:40,008 [8] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 18:59:40,008 [8] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 18:59:40,008 [8] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 18:59:40,009 [8] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 18:59:40,009 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 18:59:40,009 [8] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 18:59:40,009 [8] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 18:59:40,014 [8] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:59:40,016 [8] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:59:40,016 [8] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:59:40,017 [8] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:59:40,018 [8] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:59:40,018 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:59:40,018 [8] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:59:40,018 [8] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:59:40,018 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:59:40,019 [8] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 18:59:40,024 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 18:59:40,025 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 18:59:40,026 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 18:59:40,027 [8] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 24 ms
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:59:40,028 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:59:40,032 [8] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 18:59:40,033 [8] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 18:59:40,033 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 18:59:40,033 [8] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 18:59:40,033 [8] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 18:59:40,036 [8] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 18:59:40,036 [8] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 18:59:40,036 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@309ce97]
2020-11-11 18:59:40,038 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 18:59:40,039 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@309ce97]
2020-11-11 18:59:40,042 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 18:59:40,042 [8] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 18:59:40,049 [8] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 18:59:40,049 [8] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 18:59:40,049 [8] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 18:59:40,049 [8] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 18:59:40,050 [8] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 18:59:40,051 [8] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 18:59:42,374 [8] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Employee]).Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/2010 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 18:59:42,374 [8] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Employee], Quote((employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>)))), ), ), p5<System.Int32>))), ))
2020-11-11 18:59:42,551 [8] DEBUG NHibernate.Impl.SessionImpl - [session-id=c6ff20a6-8f20-4eb0-8a7e-a48befb95ade] running ISession.Dispose()
2020-11-11 18:59:42,552 [8] DEBUG NHibernate.Impl.SessionImpl - [session-id=c6ff20a6-8f20-4eb0-8a7e-a48befb95ade] executing real Dispose(True)
2020-11-11 18:59:42,552 [8] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 18:59:42,553 [8] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 19:00:03,118 [8] ERROR CompanyData.Services.CompanyActions - Error in List<Company> Search(CompanySearchParameters CompanySearchParameters)
System.NotSupportedException: Int32 CompareTo(System.Object)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitMethodCallExpression(MethodCallExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitSubQueryExpression(SubQueryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitBinaryExpression(BinaryExpression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.VisitExpression(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression)
   at NHibernate.Linq.Visitors.HqlGeneratorExpressionVisitor.Visit(Expression expression, VisitorParameters parameters)
   at NHibernate.Linq.Visitors.QueryModelVisitor.VisitWhereClause(WhereClause whereClause, QueryModel queryModel, Int32 index)
   at Remotion.Linq.Clauses.WhereClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel, Int32 index)
   at Remotion.Linq.QueryModelVisitorBase.VisitBodyClauses(ObservableCollection`1 bodyClauses, QueryModel queryModel)
   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)
   at NHibernate.Linq.Visitors.QueryModelVisitor.Visit()
   at NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root, Nullable`1 rootReturnType)
   at NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory, Boolean filter)
   at NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan.CreateTranslators(IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryExpressionPlan..ctor(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory)
   at NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters)
   at NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow)
   at NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression)
   at NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query)
   at NHibernate.Linq.DefaultQueryProvider.ExecuteList[TResult](Expression expression)
   at NHibernate.Linq.NhQueryable`1.System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesWithDate(ISession session, Nullable`1 employeeDateOfBirthFrom, Nullable`1 employeeDateOfBirthTo) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 59
   at CompanyData.Services.CompaniesFiltrs.GetCompaniesByAllParameters(ISession session, CompanySearchParameters companySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompaniesFiltrs.cs:line 21
   at CompanyData.Services.CompanyActions.Search(CompanySearchParameters CompanySearchParameters) in C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData\Services\CompanyActions.cs:line 42
2020-11-11 19:00:06,372 [9] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 19:00:06,372 [9] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 19:00:06,373 [9] DEBUG NHibernate.Impl.SessionImpl - [session-id=a0cab66d-8d54-48ac-a3f7-e8315c2d5050] opened session at timestamp: 637407144063, for session factory: [/59811ad9826944f784c151fc6aa83678]
2020-11-11 19:00:06,375 [9] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Name.Contains("ABC") OrElse (company.Employees.Where(employee => (employee.FirstName.Contains("ABC") OrElse employee.LastName.Contains("ABC"))).Count() > 0)))
2020-11-11 19:00:06,376 [9] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 19:00:06,376 [9] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), ))
2020-11-11 19:00:06,376 [9] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (OrElse(company.Name.Contains(p1<System.String>, ), GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (OrElse(employee.FirstName.Contains(p1<System.String>, ), employee.LastName.Contains(p1<System.String>, ))), ), ), p4<System.Int32>)))), )
2020-11-11 19:00:06,376 [9] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC', 'p4'='0'}
2020-11-11 19:00:06,377 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:00:06,377 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+?+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+?+'%') or employees1_.LastName like ('%'+?+'%')))>?
2020-11-11 19:00:06,377 [9] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 19:00:06,377 [9] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 1
2020-11-11 19:00:06,377 [9] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 2
2020-11-11 19:00:06,377 [9] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 3
2020-11-11 19:00:06,377 [9] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name like ('%'+@p0+'%') or (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.FirstName like ('%'+@p0+'%') or employees1_.LastName like ('%'+@p0+'%')))>@p3;@p0 = 'ABC' [Type: String (4000:0:0)], @p3 = 0 [Type: Int32 (0:0:0)]
2020-11-11 19:00:06,378 [9] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:00:06,379 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:00:06,379 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:00:06,379 [9] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:00:06,379 [9] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:00:06,379 [9] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 19:00:06,379 [9] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 1 ms
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 19:00:06,380 [9] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 19:00:06,381 [9] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 19:00:06,382 [9] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 19:00:06,383 [9] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@2a8a36c]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@2a8a36c]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 19:00:06,384 [9] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 19:00:53,195 [9] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Employee]).Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/2010 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 19:00:53,195 [9] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Employee], Quote((employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>)))), ), ), p5<System.Int32>))), ))
2020-11-11 19:12:44,696 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-11 19:12:44,713 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-11 19:12:44,716 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-11 19:12:44,718 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-11 19:12:51,228 [11] INFO  CompanyData.Controllers.CompaniesController - CALL: Search(CompanySearchParameters CompanySearchParameters)
2020-11-11 19:12:51,263 [11] INFO  NHibernate.Cfg.Environment - NHibernate 5.3.3+7530a259e1b52ee8a9722e7bbd728ac913ef68f7 (assembly 5.3.0.0)
2020-11-11 19:12:51,337 [11] INFO  NHibernate.Cfg.Environment - Bytecode provider name : lcg
2020-11-11 19:12:51,339 [11] INFO  NHibernate.Cfg.Environment - Objects factory class : NHibernate.Bytecode.ActivatorObjectsFactory
2020-11-11 19:12:51,339 [11] INFO  NHibernate.Cfg.Environment - Using reflection optimizer
2020-11-11 19:12:51,358 [11] DEBUG NHibernate.Cfg.Configuration - connection.provider=NHibernate.Connection.DriverConnectionProvider
2020-11-11 19:12:51,358 [11] DEBUG NHibernate.Cfg.Configuration - dialect=NHibernate.Dialect.MsSql2008Dialect
2020-11-11 19:12:51,358 [11] DEBUG NHibernate.Cfg.Configuration - query.substitutions=hqlFunction=SQLFUNC
2020-11-11 19:12:51,358 [11] DEBUG NHibernate.Cfg.Configuration - connection.driver_class=NHibernate.Driver.SqlClientDriver
2020-11-11 19:12:51,358 [11] DEBUG NHibernate.Cfg.Configuration - connection.connection_string=Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False
2020-11-11 19:12:51,358 [11] DEBUG NHibernate.Cfg.Configuration - show_sql=true
2020-11-11 19:12:51,358 [11] DEBUG NHibernate.Cfg.Configuration - <-CompanyData
2020-11-11 19:12:51,359 [11] INFO  NHibernate.Cfg.Configuration - Searching for mapped documents in assembly: CompanyData
2020-11-11 19:12:51,361 [11] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Company.hbm.xml
2020-11-11 19:12:52,001 [11] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Company -> Company
2020-11-11 19:12:52,053 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-11 19:12:52,081 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Name -> Name, type: String
2020-11-11 19:12:52,081 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: EstablishmentYear -> EstablishmentYear, type: Int32
2020-11-11 19:12:52,096 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Employees, type: System.Collections.Generic.ISet`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 19:12:52,102 [11] INFO  NHibernate.Cfg.Configuration - Mapping resource: CompanyData.Mapping.Employee.hbm.xml
2020-11-11 19:12:52,110 [11] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - Mapping class: CompanyData.Models.Employee -> Employee
2020-11-11 19:12:52,110 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: ID -> ID, type: Int64
2020-11-11 19:12:52,110 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: FirstName -> FirstName, type: String
2020-11-11 19:12:52,110 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: LastName -> LastName, type: String
2020-11-11 19:12:52,111 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: DateOfBirth -> DateOfBirth, type: UtcDateTime
2020-11-11 19:12:52,117 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: JobTitle -> JobTitle, type: NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate
2020-11-11 19:12:52,126 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped property: Company -> CompanyID, type: CompanyData.Models.Company
2020-11-11 19:12:52,126 [11] DEBUG NHibernate.Cfg.Configuration - properties: System.Collections.Generic.Dictionary`2[System.String,System.String]
2020-11-11 19:12:52,134 [11] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 19:12:52,158 [11] INFO  NHibernate.Cfg.Configuration - checking mappings queue
2020-11-11 19:12:52,158 [11] INFO  NHibernate.Cfg.Configuration - processing one-to-many association mappings
2020-11-11 19:12:52,159 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Second pass for collection: CompanyData.Models.Company.Employees
2020-11-11 19:12:52,163 [11] INFO  NHibernate.Cfg.XmlHbmBinding.Binder - mapping collection: CompanyData.Models.Company.Employees -> Employee
2020-11-11 19:12:52,171 [11] DEBUG NHibernate.Cfg.XmlHbmBinding.Binder - Mapped collection key: CompanyID, one-to-many: CompanyData.Models.Employee
2020-11-11 19:12:52,171 [11] INFO  NHibernate.Cfg.Configuration - processing one-to-one association property references
2020-11-11 19:12:52,171 [11] INFO  NHibernate.Cfg.Configuration - processing foreign key constraints
2020-11-11 19:12:52,174 [11] DEBUG NHibernate.Cfg.Configuration - resolving reference to class: CompanyData.Models.Company
2020-11-11 19:12:52,182 [11] INFO  NHibernate.Cfg.Configuration - processing filters (second pass)
2020-11-11 19:12:52,208 [11] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 19:12:52,225 [11] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 19:12:52,295 [11] INFO  NHibernate.Exceptions.SQLExceptionConverterFactory - Using dialect defined converter
2020-11-11 19:12:52,295 [11] INFO  NHibernate.Cfg.SettingsFactory - Generate SQL with comments: disabled
2020-11-11 19:12:52,296 [11] INFO  NHibernate.Connection.ConnectionProviderFactory - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
2020-11-11 19:12:52,297 [11] INFO  NHibernate.Connection.ConnectionProvider - Configuring ConnectionProvider
2020-11-11 19:12:52,316 [11] INFO  NHibernate.Dialect.Dialect - Using dialect: NHibernate.Dialect.MsSql2008Dialect
2020-11-11 19:12:52,317 [11] INFO  NHibernate.Cfg.SettingsFactory - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory
2020-11-11 19:12:52,318 [11] INFO  NHibernate.Cfg.SettingsFactory - Optimize cache for minimal puts: False
2020-11-11 19:12:52,318 [11] INFO  NHibernate.Cfg.SettingsFactory - Connection release mode: auto
2020-11-11 19:12:52,318 [11] INFO  NHibernate.Cfg.SettingsFactory - Default batch fetch size: 1
2020-11-11 19:12:52,318 [11] INFO  NHibernate.Cfg.SettingsFactory - echoing all SQL to stdout
2020-11-11 19:12:52,318 [11] INFO  NHibernate.Cfg.SettingsFactory - Statistics: disabled
2020-11-11 19:12:52,318 [11] INFO  NHibernate.Cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2020-11-11 19:12:52,318 [11] INFO  NHibernate.Cfg.SettingsFactory - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
2020-11-11 19:12:52,319 [11] INFO  NHibernate.Cfg.SettingsFactory - Query provider: NHibernate.Linq.DefaultQueryProvider
2020-11-11 19:12:52,321 [11] INFO  NHibernate.Cfg.SettingsFactory - Query language substitutions: {'hqlFunction'='SQLFUNC'}
2020-11-11 19:12:52,321 [11] INFO  NHibernate.Cfg.SettingsFactory - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-11 19:12:52,322 [11] INFO  NHibernate.Cfg.SettingsFactory - Order SQL inserts for batching: enabled
2020-11-11 19:12:52,322 [11] INFO  NHibernate.Cfg.SettingsFactory - Order SQL updates for batching: disabled
2020-11-11 19:12:52,322 [11] DEBUG NHibernate.Cfg.SettingsFactory - Wrap result sets: disabled
2020-11-11 19:12:52,322 [11] DEBUG NHibernate.Cfg.SettingsFactory - Batch versioned data: disabled
2020-11-11 19:12:52,322 [11] INFO  NHibernate.Cfg.SettingsFactory - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
2020-11-11 19:12:52,323 [11] INFO  NHibernate.Cfg.SettingsFactory - Default flush mode: Auto
2020-11-11 19:12:52,323 [11] INFO  NHibernate.Cfg.SettingsFactory - Named query checking : enabled
2020-11-11 19:12:52,325 [11] DEBUG NHibernate.Cfg.SettingsFactory - Track session id: enabled
2020-11-11 19:12:52,341 [11] INFO  NHibernate.Impl.SessionFactoryImpl - building session factory
2020-11-11 19:12:52,342 [11] DEBUG NHibernate.Impl.SessionFactoryImpl - Session factory constructed with filter configurations : {}
2020-11-11 19:12:52,343 [11] DEBUG NHibernate.Impl.SessionFactoryImpl - instantiating session factory with properties: {'bytecode.provider'='lcg', 'use_reflection_optimizer'='True', 'objects_factory'=null, 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'dialect'='NHibernate.Dialect.MsSql2008Dialect', 'query.substitutions'='hqlFunction=SQLFUNC', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver', 'connection.connection_string'='Data Source=PATKOM;Initial Catalog=CompanyDataDB;Integrated Security=True;
				Connect Timeout = 30;Encrypt = False;TrustServerCertificate = False;
				ApplicationIntent = ReadWrite;MultiSubnetFailover = False', 'show_sql'='true'}
2020-11-11 19:12:52,344 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:52,655 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:52,664 [11] DEBUG NHibernate.Impl.SessionFactoryObjectFactory - initializing class SessionFactoryObjectFactory
2020-11-11 19:12:52,664 [11] DEBUG NHibernate.Impl.SessionFactoryObjectFactory - registered: 8274912c8b124e2e9db154a89a94aa27(unnamed)
2020-11-11 19:12:52,664 [11] INFO  NHibernate.Impl.SessionFactoryObjectFactory - no name configured
2020-11-11 19:12:52,762 [11] DEBUG NHibernate.Tuple.Entity.AbstractEntityTuplizer - No custom accessors found for entity: CompanyData.Models.Company
2020-11-11 19:12:52,786 [11] DEBUG NHibernate.Tuple.Entity.PocoEntityTuplizer - Create Instantiator using optimizer for:CompanyData.Models.Company
2020-11-11 19:12:52,821 [11] DEBUG NHibernate.Tuple.Entity.AbstractEntityTuplizer - No custom accessors found for entity: CompanyData.Models.Employee
2020-11-11 19:12:52,822 [11] DEBUG NHibernate.Tuple.Entity.PocoEntityTuplizer - Create Instantiator using optimizer for:CompanyData.Models.Employee
2020-11-11 19:12:52,856 [11] DEBUG NHibernate.Persister.Collection.ICollectionPersister - Static SQL for collection: CompanyData.Models.Company.Employees
2020-11-11 19:12:52,856 [11] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  Row insert: UPDATE Employee SET CompanyID = ? WHERE ID = ?
2020-11-11 19:12:52,858 [11] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  Row delete: UPDATE Employee SET CompanyID = null WHERE CompanyID = ? AND ID = ?
2020-11-11 19:12:52,859 [11] DEBUG NHibernate.Persister.Collection.ICollectionPersister -  One-shot delete: UPDATE Employee SET CompanyID = null WHERE CompanyID = ?
2020-11-11 19:12:52,905 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Static SQL for entity: CompanyData.Models.Company
2020-11-11 19:12:52,905 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Version select: SELECT ID FROM Company WHERE ID = ?
2020-11-11 19:12:52,905 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Snapshot select: SELECT company_.ID, company_.Name as name2_0_, company_.EstablishmentYear as establishmentyear3_0_ FROM Company company_ WHERE company_.ID=?
2020-11-11 19:12:52,905 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Insert 0: INSERT INTO Company (Name, EstablishmentYear, ID) VALUES (?, ?, ?)
2020-11-11 19:12:52,905 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Update 0: UPDATE Company SET Name = ?, EstablishmentYear = ? WHERE ID = ?
2020-11-11 19:12:52,905 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Delete 0: DELETE FROM Company WHERE ID = ?
2020-11-11 19:12:52,905 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Identity insert: INSERT INTO Company (Name, EstablishmentYear) VALUES (?, ?); select SCOPE_IDENTITY()
2020-11-11 19:12:52,950 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ WHERE company0_.ID=?
2020-11-11 19:12:52,951 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ WHERE company0_.ID=?
2020-11-11 19:12:52,951 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock) WHERE company0_.ID=?
2020-11-11 19:12:52,951 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock, nowait) WHERE company0_.ID=?
2020-11-11 19:12:52,951 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_0_, company0_.Name as name2_0_0_, company0_.EstablishmentYear as establishmentyear3_0_0_ FROM Company company0_ with (updlock, rowlock) WHERE company0_.ID=?
2020-11-11 19:12:52,970 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_1_, company0_.Name as name2_0_1_, company0_.EstablishmentYear as establishmentyear3_0_1_, employees1_.CompanyID as companyid6_1_3_, employees1_.ID as id1_1_3_, employees1_.ID as id1_1_0_, employees1_.FirstName as firstname2_1_0_, employees1_.LastName as lastname3_1_0_, employees1_.DateOfBirth as dateofbirth4_1_0_, employees1_.JobTitle as jobtitle5_1_0_, employees1_.CompanyID as companyid6_1_0_ FROM Company company0_ left outer join Employee employees1_ on company0_.ID=employees1_.CompanyID WHERE company0_.ID=?
2020-11-11 19:12:52,970 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity CompanyData.Models.Company: SELECT company0_.ID as id1_0_1_, company0_.Name as name2_0_1_, company0_.EstablishmentYear as establishmentyear3_0_1_, employees1_.CompanyID as companyid6_1_3_, employees1_.ID as id1_1_3_, employees1_.ID as id1_1_0_, employees1_.FirstName as firstname2_1_0_, employees1_.LastName as lastname3_1_0_, employees1_.DateOfBirth as dateofbirth4_1_0_, employees1_.JobTitle as jobtitle5_1_0_, employees1_.CompanyID as companyid6_1_0_ FROM Company company0_ left outer join Employee employees1_ on company0_.ID=employees1_.CompanyID WHERE company0_.ID=?
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Static SQL for entity: CompanyData.Models.Employee
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Version select: SELECT ID FROM Employee WHERE ID = ?
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Snapshot select: SELECT employee_.ID, employee_.FirstName as firstname2_1_, employee_.LastName as lastname3_1_, employee_.DateOfBirth as dateofbirth4_1_, employee_.JobTitle as jobtitle5_1_, employee_.CompanyID as companyid6_1_ FROM Employee employee_ WHERE employee_.ID=?
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Insert 0: INSERT INTO Employee (FirstName, LastName, DateOfBirth, JobTitle, CompanyID, ID) VALUES (?, ?, ?, ?, ?, ?)
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Update 0: UPDATE Employee SET FirstName = ?, LastName = ?, DateOfBirth = ?, JobTitle = ?, CompanyID = ? WHERE ID = ?
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Delete 0: DELETE FROM Employee WHERE ID = ?
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister -  Identity insert: INSERT INTO Employee (FirstName, LastName, DateOfBirth, JobTitle, CompanyID) VALUES (?, ?, ?, ?, ?); select SCOPE_IDENTITY()
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ WHERE employee0_.ID=?
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ WHERE employee0_.ID=?
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock) WHERE employee0_.ID=?
2020-11-11 19:12:52,971 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock, nowait) WHERE employee0_.ID=?
2020-11-11 19:12:52,972 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_0_, employee0_.FirstName as firstname2_1_0_, employee0_.LastName as lastname3_1_0_, employee0_.DateOfBirth as dateofbirth4_1_0_, employee0_.JobTitle as jobtitle5_1_0_, employee0_.CompanyID as companyid6_1_0_ FROM Employee employee0_ with (updlock, rowlock) WHERE employee0_.ID=?
2020-11-11 19:12:52,972 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_1_, employee0_.FirstName as firstname2_1_1_, employee0_.LastName as lastname3_1_1_, employee0_.DateOfBirth as dateofbirth4_1_1_, employee0_.JobTitle as jobtitle5_1_1_, employee0_.CompanyID as companyid6_1_1_, company1_.ID as id1_0_0_, company1_.Name as name2_0_0_, company1_.EstablishmentYear as establishmentyear3_0_0_ FROM Employee employee0_ left outer join Company company1_ on employee0_.CompanyID=company1_.ID WHERE employee0_.ID=?
2020-11-11 19:12:52,972 [11] DEBUG NHibernate.Loader.Entity.AbstractEntityLoader - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity CompanyData.Models.Employee: SELECT employee0_.ID as id1_1_1_, employee0_.FirstName as firstname2_1_1_, employee0_.LastName as lastname3_1_1_, employee0_.DateOfBirth as dateofbirth4_1_1_, employee0_.JobTitle as jobtitle5_1_1_, employee0_.CompanyID as companyid6_1_1_, company1_.ID as id1_0_0_, company1_.Name as name2_0_0_, company1_.EstablishmentYear as establishmentyear3_0_0_ FROM Employee employee0_ left outer join Company company1_ on employee0_.CompanyID=company1_.ID WHERE employee0_.ID=?
2020-11-11 19:12:52,976 [11] DEBUG NHibernate.Loader.Collection.OneToManyLoader - Static select for one-to-many CompanyData.Models.Company.Employees: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:12:52,976 [11] DEBUG NHibernate.Impl.SessionFactoryImpl - Instantiated session factory
2020-11-11 19:12:52,980 [11] DEBUG NHibernate.Impl.SessionFactoryImpl - Checking 0 named HQL queries
2020-11-11 19:12:52,980 [11] DEBUG NHibernate.Impl.SessionFactoryImpl - Checking 0 named SQL queries
2020-11-11 19:12:52,983 [11] DEBUG NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.3.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] - Opening Hibernate Session.
2020-11-11 19:12:52,996 [11] DEBUG NHibernate.Impl.SessionImpl - [session-id=a5124779-5f1b-48ce-8c29-7f6bf304a777] opened session at timestamp: 637407151729, for session factory: [/8274912c8b124e2e9db154a89a94aa27]
2020-11-11 19:12:53,130 [11] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(b => (b.Name == "ABC"))
2020-11-11 19:12:53,154 [11] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((b, ) => (String.op_Equality(b.Name, p1<System.String>))), ))
2020-11-11 19:12:53,333 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 19:12:53,347 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (b) -> company0_
2020-11-11 19:12:53,362 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  b -> company0_.ID
2020-11-11 19:12:53,377 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  b -> company0_.ID
2020-11-11 19:12:53,381 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (b) -> Name (Class)]
2020-11-11 19:12:53,382 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Name -> NHibernate.Type.StringType
2020-11-11 19:12:53,385 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  b.Name -> company0_.Name
2020-11-11 19:12:53,390 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 19:12:53,393 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( == ( company0_.Name company0_.ID Name ) ? ) ) )
2020-11-11 19:12:53,421 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 19:12:53,422 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 19:12:53,423 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:12:53,473 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name=?
2020-11-11 19:12:53,473 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:12:53,510 [11] DEBUG NHibernate.Engine.Query.QueryPlanCache - located HQL query plan in cache (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((b, ) => (String.op_Equality(b.Name, p1<System.String>))), ))
2020-11-11 19:12:53,515 [11] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((b, ) => (String.op_Equality(b.Name, p1<System.String>))), )
2020-11-11 19:12:53,516 [11] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='ABC'}
2020-11-11 19:12:53,569 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:53,569 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name=?
2020-11-11 19:12:53,572 [11] DEBUG NHibernate.Type.StringType - binding 'ABC' to parameter: 0
2020-11-11 19:12:53,582 [11] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where company0_.Name=@p0;@p0 = 'ABC' [Type: String (4000:0:0)]
2020-11-11 19:12:53,583 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:53,613 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 27 ms
2020-11-11 19:12:53,613 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:53,617 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:53,617 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:53,624 [11] DEBUG NHibernate.Type.Int64Type - returning '5' as column: id1_0_
2020-11-11 19:12:53,629 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#5]
2020-11-11 19:12:53,634 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#5]
2020-11-11 19:12:53,641 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#5]
2020-11-11 19:12:53,641 [11] DEBUG NHibernate.Type.StringType - returning 'ABC' as column: name2_0_
2020-11-11 19:12:53,642 [11] DEBUG NHibernate.Type.Int32Type - returning '2002' as column: establishmentyear3_0_
2020-11-11 19:12:53,647 [11] DEBUG NHibernate.Loader.Loader - done processing result set (1 rows)
2020-11-11 19:12:53,651 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:53,651 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 65 ms
2020-11-11 19:12:53,651 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:53,652 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:53,652 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:53,655 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 19:12:53,661 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#5]
2020-11-11 19:12:53,668 [11] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:12:53,675 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#5]
2020-11-11 19:12:53,675 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:12:53,678 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:12:53,680 [11] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:12:53,685 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:53,685 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:12:53,686 [11] DEBUG NHibernate.Type.Int64Type - binding '5' to parameter: 0
2020-11-11 19:12:53,687 [11] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 5 [Type: Int64 (0:0:0)]
2020-11-11 19:12:53,688 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:53,688 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:12:53,688 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:53,689 [11] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:12:53,689 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:12:53,690 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 19:12:53,691 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:12:53,692 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:53,692 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:53,692 [11] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_0_
2020-11-11 19:12:53,692 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#7]
2020-11-11 19:12:53,693 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#7]
2020-11-11 19:12:53,693 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#7]
2020-11-11 19:12:53,693 [11] DEBUG NHibernate.Type.StringType - returning 'asd' as column: firstname2_1_0_
2020-11-11 19:12:53,693 [11] DEBUG NHibernate.Type.StringType - returning 'asd' as column: lastname3_1_0_
2020-11-11 19:12:53,697 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:53,698 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 19:12:53,698 [11] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 19:12:53,699 [11] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 19:12:53,700 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:12:53,700 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 19:12:53,700 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 19:12:53,700 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 19:12:53,700 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:53,701 [11] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_1_1_
2020-11-11 19:12:53,706 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#7]
2020-11-11 19:12:53,707 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#7]
2020-11-11 19:12:53,708 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#7]
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_0_
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#8]
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#8]
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#8]
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Type.StringType - returning '43' as column: firstname2_1_0_
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Type.StringType - returning '43' as column: lastname3_1_0_
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_0_
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Type.Int64Type - returning '5' as column: companyid6_1_1_
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#5]]
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 19:12:53,709 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_1_1_
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#8]
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#8]
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#8]
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 21 ms
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#7]
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 19:12:53,710 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:53,714 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#7]
2020-11-11 19:12:53,714 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#8]
2020-11-11 19:12:53,714 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#5]
2020-11-11 19:12:53,714 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:53,714 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#8]
2020-11-11 19:12:53,717 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#5]] in any result-set context
2020-11-11 19:12:53,717 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#5]] not located in load context
2020-11-11 19:12:53,718 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@3b9d2c2]
2020-11-11 19:12:53,721 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:53,721 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#5]>@3b9d2c2]
2020-11-11 19:12:53,725 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#5]
2020-11-11 19:12:53,725 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:53,729 [11] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:12:53,729 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:12:53,729 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#5]
2020-11-11 19:12:53,729 [11] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 19:12:53,730 [11] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 19:12:53,731 [11] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 19:12:58,901 [11] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => ((employee.DateOfBirth.Value.CompareTo(12/3/1985 11:28:56 PM) >= 0) AndAlso (employee.DateOfBirth.Value.CompareTo(12/3/2010 11:28:56 PM) <= 0))).Count() > 0))
2020-11-11 19:12:58,902 [11] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 19:12:58,932 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 19:12:58,932 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 19:12:58,932 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 19:12:58,932 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 19:12:58,933 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 19:12:58,935 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 19:12:58,935 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 19:12:58,935 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 19:12:58,936 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 19:12:58,937 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 19:12:58,938 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 19:12:58,939 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 19:12:58,940 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 19:12:58,941 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 19:12:58,941 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 19:12:58,973 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 19:12:58,973 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> DateOfBirth (Class)]
2020-11-11 19:12:58,973 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : DateOfBirth -> NHibernate.Type.UtcDateTimeType
2020-11-11 19:12:58,973 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.DateOfBirth -> employees1_.DateOfBirth
2020-11-11 19:12:58,973 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 19:12:58,973 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> DateOfBirth (Class)]
2020-11-11 19:12:58,973 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : DateOfBirth -> NHibernate.Type.UtcDateTimeType
2020-11-11 19:12:58,973 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.DateOfBirth -> employees1_.DateOfBirth
2020-11-11 19:12:58,973 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 19:12:58,974 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( and ( ge ( employees1_.DateOfBirth employees1_.ID DateOfBirth ) ? ) ( le ( employees1_.DateOfBirth employees1_.ID DateOfBirth ) ? ) ) ) )
2020-11-11 19:12:58,976 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 19:12:58,977 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 19:12:58,977 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 19:12:58,978 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 19:12:58,978 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 19:12:58,978 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( and ( ge ( employees1_.DateOfBirth employees1_.ID DateOfBirth ) ? ) ( le ( employees1_.DateOfBirth employees1_.ID DateOfBirth ) ? ) ) ) ) ? ) ) )
2020-11-11 19:12:58,978 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 19:12:58,978 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 19:12:58,978 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:12:58,991 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and employees1_.DateOfBirth>=? and employees1_.DateOfBirth<=?)>?
2020-11-11 19:12:58,991 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:12:58,991 [11] DEBUG NHibernate.Engine.Query.QueryPlanCache - Query plan not cacheable
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), ))
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 19:12:58,992 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 19:12:58,992 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> DateOfBirth (Class)]
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : DateOfBirth -> NHibernate.Type.UtcDateTimeType
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.DateOfBirth -> employees1_.DateOfBirth
2020-11-11 19:12:58,992 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 19:12:58,992 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> DateOfBirth (Class)]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : DateOfBirth -> NHibernate.Type.UtcDateTimeType
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.DateOfBirth -> employees1_.DateOfBirth
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( and ( ge ( employees1_.DateOfBirth employees1_.ID DateOfBirth ) ? ) ( le ( employees1_.DateOfBirth employees1_.ID DateOfBirth ) ? ) ) ) )
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( and ( ge ( employees1_.DateOfBirth employees1_.ID DateOfBirth ) ? ) ( le ( employees1_.DateOfBirth employees1_.ID DateOfBirth ) ? ) ) ) ) ? ) ) )
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and employees1_.DateOfBirth>=? and employees1_.DateOfBirth<=?)>?
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Engine.Query.QueryPlanCache - Query plan not cacheable
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (AndAlso(GreaterThanOrEqual(employee.DateOfBirth.Value.CompareTo(p1<System.DateTime>, ), p2<System.Int32>), LessThanOrEqual(employee.DateOfBirth.Value.CompareTo(p3<System.DateTime>, ), p4<System.Int32>))), ), ), p5<System.Int32>))), )
2020-11-11 19:12:58,993 [11] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p1'='12/3/1985 11:28:56 PM', 'p3'='12/3/2010 11:28:56 PM', 'p5'='0'}
2020-11-11 19:12:58,994 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:58,994 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and employees1_.DateOfBirth>=? and employees1_.DateOfBirth<=?)>?
2020-11-11 19:12:58,994 [11] DEBUG NHibernate.Type.UtcDateTimeType - binding '12/3/1985 11:28:56 PM' to parameter: 0
2020-11-11 19:12:58,994 [11] DEBUG NHibernate.Type.UtcDateTimeType - binding '12/3/2010 11:28:56 PM' to parameter: 1
2020-11-11 19:12:58,994 [11] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 2
2020-11-11 19:12:58,994 [11] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and employees1_.DateOfBirth>=@p0 and employees1_.DateOfBirth<=@p1)>@p2;@p0 = 1985-12-03T23:28:56.7820000Z [Type: DateTime2 (8:0:0)], @p1 = 2010-12-03T23:28:56.7820000Z [Type: DateTime2 (8:0:0)], @p2 = 0 [Type: Int32 (0:0:0)]
2020-11-11 19:12:58,995 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:59,012 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 16 ms
2020-11-11 19:12:59,012 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:59,012 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:59,012 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:59,012 [11] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#7]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#7]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#7]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.StringType - returning 'AMD' as column: name2_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int32Type - returning '1990' as column: establishmentyear3_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#8]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#8]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#8]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.StringType - returning 'AMD' as column: name2_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int32Type - returning '1990' as column: establishmentyear3_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result set row: 2
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int64Type - returning '9' as column: id1_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#9]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#9]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#9]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.StringType - returning 'AMD' as column: name2_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int32Type - returning '1990' as column: establishmentyear3_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result set row: 3
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int64Type - returning '13' as column: id1_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#13]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#13]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#13]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.StringType - returning 'BDC' as column: name2_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int32Type - returning '1999' as column: establishmentyear3_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result set row: 4
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int64Type - returning '14' as column: id1_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#14]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#14]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#14]
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.StringType - returning 'Ccc' as column: name2_0_
2020-11-11 19:12:59,013 [11] DEBUG NHibernate.Type.Int32Type - returning '1999' as column: establishmentyear3_0_
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Loader.Loader - result set row: 5
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Type.Int64Type - returning '15' as column: id1_0_
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#15]
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#15]
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#15]
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Type.StringType - returning 'BBC' as column: name2_0_
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Type.Int32Type - returning '1993' as column: establishmentyear3_0_
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Loader.Loader - done processing result set (6 rows)
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 18 ms
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 6
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#7]
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] located in load context
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#7]
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#7]
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#7]
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:12:59,014 [11] DEBUG NHibernate.Type.Int64Type - binding '7' to parameter: 0
2020-11-11 19:12:59,015 [11] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 7 [Type: Int64 (0:0:0)]
2020-11-11 19:12:59,015 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#7]
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#7]]
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] located in load context
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Type.Int64Type - returning '21' as column: id1_1_0_
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#21]
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#21]
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#21]
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Type.StringType - returning 'Kali' as column: firstname2_1_0_
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Type.StringType - returning 'Mada' as column: lastname3_1_0_
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2001 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Type.Int64Type - returning '7' as column: companyid6_1_0_
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Type.Int64Type - returning '7' as column: companyid6_1_1_
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#7]
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#7]]
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] not located in load context
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Type.Int64Type - returning '21' as column: id1_1_1_
2020-11-11 19:12:59,016 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#21]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#21]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#21]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Type.Int64Type - returning '22' as column: id1_1_0_
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#22]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#22]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#22]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Type.StringType - returning 'Eldo' as column: firstname2_1_0_
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Type.StringType - returning 'Dus' as column: lastname3_1_0_
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Type.Int64Type - returning '7' as column: companyid6_1_0_
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Type.Int64Type - returning '7' as column: companyid6_1_1_
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#7]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#7]]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] not located in load context
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Type.Int64Type - returning '22' as column: id1_1_1_
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#22]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#22]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#22]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 1 ms
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#21]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#7]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#21]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#22]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#7]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#22]
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#7]] in any result-set context
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#7]] not located in load context
2020-11-11 19:12:59,017 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#7]>@f45c6]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#7]>@f45c6]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#7]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#7]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#8]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] located in load context
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#8]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#8]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#8]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Type.Int64Type - binding '8' to parameter: 0
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 8 [Type: Int64 (0:0:0)]
2020-11-11 19:12:59,018 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#8]
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#8]]
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] located in load context
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Type.Int64Type - returning '25' as column: id1_1_0_
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#25]
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#25]
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#25]
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Type.StringType - returning 'Kali' as column: firstname2_1_0_
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Type.StringType - returning 'Mada' as column: lastname3_1_0_
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2001 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Type.Int64Type - returning '8' as column: companyid6_1_0_
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Type.Int64Type - returning '8' as column: companyid6_1_1_
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#8]
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#8]]
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] not located in load context
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Type.Int64Type - returning '25' as column: id1_1_1_
2020-11-11 19:12:59,019 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#25]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#25]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#25]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Type.Int64Type - returning '26' as column: id1_1_0_
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#26]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#26]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#26]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Type.StringType - returning 'Eldo' as column: firstname2_1_0_
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Type.StringType - returning 'Dus' as column: lastname3_1_0_
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Type.Int64Type - returning '8' as column: companyid6_1_0_
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Type.Int64Type - returning '8' as column: companyid6_1_1_
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#8]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#8]]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] not located in load context
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Type.Int64Type - returning '26' as column: id1_1_1_
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#26]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#26]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#26]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 1 ms
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#25]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#8]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#25]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#26]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#8]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#26]
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#8]] in any result-set context
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#8]] not located in load context
2020-11-11 19:12:59,020 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#8]>@dbac81]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#8]>@dbac81]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#8]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#8]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#9]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] located in load context
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#9]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#9]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#9]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Type.Int64Type - binding '9' to parameter: 0
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 9 [Type: Int64 (0:0:0)]
2020-11-11 19:12:59,021 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#9]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#9]]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] located in load context
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.Int64Type - returning '27' as column: id1_1_0_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#27]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#27]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#27]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.StringType - returning 'Kali' as column: firstname2_1_0_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.StringType - returning 'Mada' as column: lastname3_1_0_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2001 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.Int64Type - returning '9' as column: companyid6_1_0_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.Int64Type - returning '9' as column: companyid6_1_1_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#9]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#9]]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] not located in load context
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.Int64Type - returning '27' as column: id1_1_1_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#27]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#27]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#27]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Type.Int64Type - returning '28' as column: id1_1_0_
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#28]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#28]
2020-11-11 19:12:59,022 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#28]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Type.StringType - returning 'Eldo' as column: firstname2_1_0_
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Type.StringType - returning 'Dus' as column: lastname3_1_0_
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1970 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Type.Int64Type - returning '9' as column: companyid6_1_0_
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Type.Int64Type - returning '9' as column: companyid6_1_1_
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#9]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#9]]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] not located in load context
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Type.Int64Type - returning '28' as column: id1_1_1_
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#28]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#28]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#28]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 1 ms
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#27]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#9]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#27]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#28]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#9]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#28]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#9]] in any result-set context
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#9]] not located in load context
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#9]>@6bab46]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#9]>@6bab46]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#9]
2020-11-11 19:12:59,023 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#9]
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#13]
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] located in load context
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#13]
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#13]
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#13]
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.Type.Int64Type - binding '13' to parameter: 0
2020-11-11 19:12:59,024 [11] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 13 [Type: Int64 (0:0:0)]
2020-11-11 19:12:59,028 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:59,028 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:12:59,028 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:59,028 [11] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#13]
2020-11-11 19:12:59,028 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#13]]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] located in load context
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.Int64Type - returning '35' as column: id1_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#35]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#35]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#35]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.StringType - returning 'Aa' as column: firstname2_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.StringType - returning 'Bb' as column: lastname3_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2002 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '4' as column: jobtitle5_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.Int64Type - returning '13' as column: companyid6_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.Int64Type - returning '13' as column: companyid6_1_1_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#13]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#13]]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] not located in load context
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.Int64Type - returning '35' as column: id1_1_1_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#35]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#35]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#35]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.Int64Type - returning '36' as column: id1_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#36]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#36]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#36]
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.StringType - returning 'Cc' as column: firstname2_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.StringType - returning 'Dd' as column: lastname3_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2010 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,029 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Type.Int64Type - returning '13' as column: companyid6_1_0_
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Type.Int64Type - returning '13' as column: companyid6_1_1_
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#13]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#13]]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] not located in load context
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Type.Int64Type - returning '36' as column: id1_1_1_
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#36]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#36]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#36]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 1 ms
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#35]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#13]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#35]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#36]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#13]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#36]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#13]] in any result-set context
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#13]] not located in load context
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#13]>@1005b77]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#13]>@1005b77]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#13]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#13]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#14]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] located in load context
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#14]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#14]
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:12:59,030 [11] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#14]
2020-11-11 19:12:59,031 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:59,031 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:12:59,031 [11] DEBUG NHibernate.Type.Int64Type - binding '14' to parameter: 0
2020-11-11 19:12:59,031 [11] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 14 [Type: Int64 (0:0:0)]
2020-11-11 19:12:59,031 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#14]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#14]]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] located in load context
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Type.Int64Type - returning '37' as column: id1_1_0_
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#37]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#37]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#37]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Type.StringType - returning 'Ed' as column: firstname2_1_0_
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Type.StringType - returning 'Eddy' as column: lastname3_1_0_
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2002 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '4' as column: jobtitle5_1_0_
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Type.Int64Type - returning '14' as column: companyid6_1_0_
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Type.Int64Type - returning '14' as column: companyid6_1_1_
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#14]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#14]]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] not located in load context
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Type.Int64Type - returning '37' as column: id1_1_1_
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#37]
2020-11-11 19:12:59,032 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#37]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#37]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Type.Int64Type - returning '38' as column: id1_1_0_
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#38]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#38]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#38]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Type.StringType - returning 'Big D' as column: firstname2_1_0_
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Type.StringType - returning 'Alejs' as column: lastname3_1_0_
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2010 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Type.Int64Type - returning '14' as column: companyid6_1_0_
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Type.Int64Type - returning '14' as column: companyid6_1_1_
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#14]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#14]]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] not located in load context
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Type.Int64Type - returning '38' as column: id1_1_1_
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#38]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#38]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#38]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 1 ms
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#37]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#14]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#37]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#38]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#14]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#38]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#14]] in any result-set context
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#14]] not located in load context
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#14]>@1810272]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#14]>@1810272]
2020-11-11 19:12:59,033 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#14]
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#14]
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#15]
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] located in load context
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#15]
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#15]
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#15]
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.Type.Int64Type - binding '15' to parameter: 0
2020-11-11 19:12:59,034 [11] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 15 [Type: Int64 (0:0:0)]
2020-11-11 19:12:59,035 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#15]
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#15]]
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] located in load context
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Type.Int64Type - returning '39' as column: id1_1_0_
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#39]
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#39]
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#39]
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Type.StringType - returning 'Ad' as column: firstname2_1_0_
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Type.StringType - returning 'Bundy' as column: lastname3_1_0_
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2002 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '4' as column: jobtitle5_1_0_
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Type.Int64Type - returning '15' as column: companyid6_1_0_
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Type.Int64Type - returning '15' as column: companyid6_1_1_
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#15]
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#15]]
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 19:12:59,036 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] not located in load context
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.Int64Type - returning '39' as column: id1_1_1_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#39]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#39]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#39]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.Int64Type - returning '40' as column: id1_1_0_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#40]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#40]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#40]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.StringType - returning 'Big T' as column: firstname2_1_0_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.StringType - returning 'Hejo' as column: lastname3_1_0_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/2010 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.Int64Type - returning '15' as column: companyid6_1_0_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.Int64Type - returning '15' as column: companyid6_1_1_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#15]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#15]]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] not located in load context
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Type.Int64Type - returning '40' as column: id1_1_1_
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#40]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#40]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#40]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 1 ms
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#39]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#15]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#39]
2020-11-11 19:12:59,037 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#40]
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#15]
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#40]
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#15]] in any result-set context
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#15]] not located in load context
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#15]>@2a09198]
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#15]>@2a09198]
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#15]
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#15]
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 19:12:59,038 [11] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 19:13:15,787 [11] DEBUG NHibernate.Linq - Expression (partially evaluated): value(NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company]).Where(company => (company.Employees.Where(employee => value(System.Collections.Generic.List`1[CompanyData.Models.JobTitle]).Contains(employee.JobTitle.Value)).Select(employee => company).Count() > 0))
2020-11-11 19:13:15,797 [11] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Select[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null,CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (p1<System.Collections.Generic.List`1[CompanyData.Models.JobTitle]>.Contains(employee.JobTitle.Value, )), ), (employee, ) => (company), ), ), p2<System.Int32>))), ))
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 19:13:15,829 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 19:13:15,829 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 19:13:15,830 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 19:13:15,830 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 19:13:15,830 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 19:13:15,830 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 19:13:15,830 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 19:13:15,830 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 19:13:15,830 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> JobTitle (Class)]
2020-11-11 19:13:15,830 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : JobTitle -> NHibernate.Type.EnumType`1[CompanyData.Models.JobTitle]
2020-11-11 19:13:15,830 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.JobTitle -> employees1_.JobTitle
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( in ( employees1_.JobTitle employees1_.ID JobTitle ) ( inlist ? ) ) ) )
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( in ( employees1_.JobTitle employees1_.ID JobTitle ) ( inlist ? ) ) ) ) ? ) ) )
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 19:13:15,834 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:13:15,838 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.JobTitle in (?)))>?
2020-11-11 19:13:15,838 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Engine.Query.QueryPlanCache - unable to locate HQL query plan in cache; generating (.Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Select[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null,CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (p1<System.Collections.Generic.List`1[CompanyData.Models.JobTitle]>.Contains(employee.JobTitle.Value, )), ), (employee, ) => (company), ), ), p2<System.Int32>))), ) p1:p1_0_p1_1_)
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=1, statement=select]
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=1} :  CompanyData.Models.Company (company) -> company0_
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select << begin [level=2, statement=select]
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : path = company.Employees
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.PathHelper - parsePath() : company.Employees -> [ ( . company Employees ) ]
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company -> company0_.ID
2020-11-11 19:13:15,844 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Company (company) -> Employees (Class)]
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : Employees -> NHibernate.Type.GenericSetType`1[[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](CompanyData.Models.Company.Employees)
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createEntityAssociation() : One to many - path = company.Employees role = CompanyData.Models.Company.Employees associatedEntityName = CompanyData.Models.Employee
2020-11-11 19:13:15,844 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElement - FromClause{level=2} :  CompanyData.Models.Employee (employee) -> employees1_
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromClause - addJoinByPathMap() : company.Employees -> Employee employees1_
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - dereferenceCollection() : Created new FROM element for company.Employees : Employee employees1_
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  company.Employees -> .
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromElementFactory - createFromElementInSubselect() : company.Employees -> Employee employees1_
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee -> employees1_.ID
2020-11-11 19:13:15,845 [11] INFO  NHibernate.Hql.Ast.ANTLR.Tree.FromElement - handling property dereference [CompanyData.Models.Employee (employee) -> JobTitle (Class)]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.DotNode - getDataType() : JobTitle -> NHibernate.Type.EnumType`1[CompanyData.Models.JobTitle]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Tree.FromReferenceNode - Resolved :  employee.JobTitle -> employees1_.JobTitle
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=2, statement=select]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( in ( employees1_.JobTitle employees1_.ID JobTitle ) ( inlist ? ? ) ) ) )
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Employee employees1_]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using unprocessed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.SyntheticAndFactory - Using processed WHERE-fragment [company0_.ID=employees1_.CompanyID]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=2, statement=select]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select : finishing up [level=1, statement=select]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - processQuery() : ( SELECT ( {select clause} company0_.ID ) ( FromClause{level=1} Company company0_ ) ( where ( gt ( SELECT ( {select clause} ( method transparentcast ( expr_list ( count * ) integer ) ) ) ( FromClause{level=2} Employee employees1_ ) ( where ( {theta joins} company0_.ID=employees1_.CompanyID ) ( in ( employees1_.JobTitle employees1_.ID JobTitle ) ( inlist ? ? ) ) ) ) ? ) ) )
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.Util.JoinProcessor - Using FROM fragment [Company company0_]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlWalker - select >> end [level=1, statement=select]
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.HqlSqlGenerator - SQL: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.JobTitle in (? , ?)))>?
2020-11-11 19:13:15,845 [11] DEBUG NHibernate.Hql.Ast.ANTLR.ErrorCounter - throwQueryException() : no errors
2020-11-11 19:13:15,846 [11] DEBUG NHibernate.Engine.Query.HQLQueryPlan - find: .Where[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](NHibernate.Linq.NhQueryable`1[CompanyData.Models.Company], Quote((company, ) => (GreaterThan(.Count[CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Select[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null,CompanyData.Models.Company, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](.Where[CompanyData.Models.Employee, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null](company.Employees, (employee, ) => (p1<System.Collections.Generic.List`1[CompanyData.Models.JobTitle]>.Contains(employee.JobTitle.Value, )), ), (employee, ) => (company), ), ), p2<System.Int32>))), ) p1:p1_0_p1_1_
2020-11-11 19:13:15,846 [11] DEBUG NHibernate.Engine.QueryParameters - named parameters: {'p2'='0', 'p1_0_'='0', 'p1_1_'='1'}
2020-11-11 19:13:15,846 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:13:15,846 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.JobTitle in (? , ?)))>?
2020-11-11 19:13:15,846 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - binding '0' to parameter: 0
2020-11-11 19:13:15,847 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - binding '1' to parameter: 1
2020-11-11 19:13:15,847 [11] DEBUG NHibernate.Type.Int32Type - binding '0' to parameter: 2
2020-11-11 19:13:15,847 [11] DEBUG NHibernate.SQL - select company0_.ID as id1_0_, company0_.Name as name2_0_, company0_.EstablishmentYear as establishmentyear3_0_ from Company company0_ where (select (count(*)) from Employee employees1_ where company0_.ID=employees1_.CompanyID and (employees1_.JobTitle in (@p0 , @p1)))>@p2;@p0 = 0 [Type: Int32 (0:0:0)], @p1 = 1 [Type: Int32 (0:0:0)], @p2 = 0 [Type: Int32 (0:0:0)]
2020-11-11 19:13:15,849 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:13:15,850 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:13:15,850 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:13:15,850 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:13:15,850 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:13:15,850 [11] DEBUG NHibernate.Type.Int64Type - returning '7' as column: id1_0_
2020-11-11 19:13:15,850 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#7]
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Type.Int64Type - returning '8' as column: id1_0_
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#8]
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result set row: 2
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Type.Int64Type - returning '9' as column: id1_0_
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#9]
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result set row: 3
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Type.Int64Type - returning '10' as column: id1_0_
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#10]
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Company#10]
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Company#10]
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Type.StringType - returning 'BDC' as column: name2_0_
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Type.Int32Type - returning '1999' as column: establishmentyear3_0_
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result set row: 4
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Type.Int64Type - returning '13' as column: id1_0_
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#13]
2020-11-11 19:13:15,852 [11] DEBUG NHibernate.Loader.Loader - result set row: 5
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Type.Int64Type - returning '14' as column: id1_0_
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#14]
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Loader.Loader - result set row: 6
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Type.Int64Type - returning '15' as column: id1_0_
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Company#15]
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Loader.Loader - done processing result set (7 rows)
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 3 ms
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 1
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Company#10]
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] located in load context
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Type.CollectionType - Created collection wrapper: [CompanyData.Models.Company.Employees#10]
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - initializing collection [CompanyData.Models.Company.Employees#10]
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - checking second-level cache
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection not cached
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Loader.Loader - loading collection: [CompanyData.Models.Company.Employees#10]
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened new DbCommand, open DbCommands: 1
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Building an DbCommand object for the SqlString: SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=?
2020-11-11 19:13:15,853 [11] DEBUG NHibernate.Type.Int64Type - binding '10' to parameter: 0
2020-11-11 19:13:15,854 [11] DEBUG NHibernate.SQL - SELECT employees0_.CompanyID as companyid6_1_1_, employees0_.ID as id1_1_1_, employees0_.ID as id1_1_0_, employees0_.FirstName as firstname2_1_0_, employees0_.LastName as lastname3_1_0_, employees0_.DateOfBirth as dateofbirth4_1_0_, employees0_.JobTitle as jobtitle5_1_0_, employees0_.CompanyID as companyid6_1_0_ FROM Employee employees0_ WHERE employees0_.CompanyID=@p0;@p0 = 10 [Type: Int64 (0:0:0)]
2020-11-11 19:13:15,854 [11] DEBUG NHibernate.Connection.DriverConnectionProvider - Obtaining DbConnection from Driver
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - ExecuteReader took 0 ms
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Opened DbDataReader, open DbDataReaders: 1
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Loader.Loader - result set contains (possibly empty) collection: [CompanyData.Models.Company.Employees#10]
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#10]]
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] located in load context
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection not yet initialized; initializing
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Loader.Loader - processing result set
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Loader.Loader - result set row: 0
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Type.Int64Type - returning '29' as column: id1_1_0_
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#29]
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#29]
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#29]
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Type.StringType - returning 'Mat' as column: firstname2_1_0_
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Type.StringType - returning 'Prat' as column: lastname3_1_0_
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1900 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '2' as column: jobtitle5_1_0_
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Type.Int64Type - returning '10' as column: companyid6_1_0_
2020-11-11 19:13:15,855 [11] DEBUG NHibernate.Type.Int64Type - returning '10' as column: companyid6_1_1_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#10]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#10]]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] not located in load context
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.Int64Type - returning '29' as column: id1_1_1_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#29]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#29]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#29]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Loader.Loader - result set row: 1
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.Int64Type - returning '30' as column: id1_1_0_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Loader.Loader - result row: EntityKey[CompanyData.Models.Employee#30]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Loader.Loader - Initializing object from DataReader: [CompanyData.Models.Employee#30]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Persister.Entity.AbstractEntityPersister - Hydrating entity: [CompanyData.Models.Employee#30]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.StringType - returning 'As' as column: firstname2_1_0_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.StringType - returning 'Asd' as column: lastname3_1_0_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.UtcDateTimeType - returning '12/3/1933 12:00:00 AM' as column: dateofbirth4_1_0_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.EnumType`1[[CompanyData.Models.JobTitle, CompanyData, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] - returning '1' as column: jobtitle5_1_0_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.Int64Type - returning '10' as column: companyid6_1_0_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.Int64Type - returning '10' as column: companyid6_1_1_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Loader.Loader - found row of collection: [CompanyData.Models.Company.Employees#10]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - starting attempt to find loading collection [[CompanyData.Models.Company.Employees#10]]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] not located in load context
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - found loading collection bound to current result set processing; reading row
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Type.Int64Type - returning '30' as column: id1_1_1_
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Employee#30]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - attempting to resolve: [CompanyData.Models.Employee#30]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - resolved object in session cache: [CompanyData.Models.Employee#30]
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.Loader.Loader - done processing result set (2 rows)
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbDataReader, open DbDataReaders :0
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - DataReader was closed after 2 ms
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - Closed DbCommand, open DbCommands: 0
2020-11-11 19:13:15,856 [11] DEBUG NHibernate.AdoNet.ConnectionManager - Aggressively releasing database connection
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Connection.ConnectionProvider - Closing connection
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Loader.Loader - total objects hydrated: 2
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#29]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#10]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#29]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - resolving associations for [CompanyData.Models.Employee#30]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - loading entity: [CompanyData.Models.Company#10]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Event.Default.DefaultLoadEventListener - entity found in session cache
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Employee#30]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - attempting to locate loading collection entry [CollectionKey[CompanyData.Models.Company.Employees#10]] in any result-set context
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.Loading.LoadContexts - collection [CollectionKey[CompanyData.Models.Company.Employees#10]] not located in load context
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#10]>@38ff12c]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections were found in result set for role: CompanyData.Models.Company.Employees
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[CompanyData.Models.Company.Employees#10]>@38ff12c]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - collection fully initialized: [CompanyData.Models.Company.Employees#10]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.Loading.CollectionLoadContext - 1 collections initialized for role: CompanyData.Models.Company.Employees
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Loader.Loader - done loading collection
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Event.Default.DefaultInitializeCollectionEventListener - collection initialized
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.TwoPhaseLoad - done materializing entity [CompanyData.Models.Company#10]
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Engine.StatefulPersistenceContext - initializing non-lazy collections
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.AdoNet.ConnectionManager - After autocommit
2020-11-11 19:13:15,857 [11] DEBUG NHibernate.Impl.SessionImpl - transaction completion
2020-11-11 19:13:15,859 [11] DEBUG NHibernate.Impl.SessionImpl - [session-id=a5124779-5f1b-48ce-8c29-7f6bf304a777] running ISession.Dispose()
2020-11-11 19:13:15,859 [11] DEBUG NHibernate.Impl.SessionImpl - [session-id=a5124779-5f1b-48ce-8c29-7f6bf304a777] executing real Dispose(True)
2020-11-11 19:13:15,860 [11] DEBUG NHibernate.Impl.SessionImpl - closing session
2020-11-11 19:13:15,860 [11] DEBUG NHibernate.AdoNet.AbstractBatcher - running BatcherImpl.Dispose(true)
2020-11-11 19:15:36,465 [2] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2020-11-11 19:29:05,807 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: https://localhost:5001
2020-11-11 19:29:05,821 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2020-11-11 19:29:05,823 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2020-11-11 19:29:05,825 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\Patryk\Desktop\Projekty\Projects\CompanyData
2020-11-11 19:29:05,965 [2] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
